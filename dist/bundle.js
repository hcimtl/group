!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t){e.exports=function(e,t,n,i,r){var o,a=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(o=e,a=e.default);var l="function"==typeof a?a.options:a;t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),i&&(l._scopeId=i);var u;if(r?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=u):n&&(u=n),u){var c=l.functional,d=c?l.render:l.beforeCreate;c?l.render=function(e,t){return u.call(t),d(e,t)}:l.beforeCreate=d?[].concat(d,u):[u]}return{esModule:o,exports:a,options:l}}},function(e,t,n){"use strict";function i(e,t){var n="desc"==t?-1:1;if("string"==typeof e){var i=e;return function(e,t){return!(!e[i]||!t[i])&&e[i].localeCompare(t[i])*n}}if("object"==(void 0===e?"undefined":l(e))&&e.key&&e.type&&e.key instanceof Array&&"array"==e.type){var r=e.key.length;return function(t,i){for(var o=t,a=i,s=0;s<r;s++)if(o=o[e.key[s]],a=a[e.key[s]],!o||!a)return!1;return o.localeCompare(a)*n}}}function r(e,t){var n=null,i=null,r=[];e.length>t.length?(n=t,i=e):(n=e,i=t);for(var o=0;o<n.length;o++)-1!==i.indexOf(n[o])&&r.push(n[o]);return r}function o(e,t){if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(e,t);else{window.URL=window.URL||window.webkitURL;var n=document.createElement("a");document.body.appendChild(n),n.style="display: none";var i=window.URL.createObjectURL(e);n.href=i,n.download=t,n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(i)},100)}}function a(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=window.location.hash;e&&(t=e);for(var n,i={},r=/\+/g,o=/([^&;=]+)=?([^&;]*)/g,s=function(e){return decodeURIComponent(e.replace(r," "))},l=t.substring(1);n=o.exec(l);)i[s(n[1])]=s(n[2]);return!1===e&&window.frameElement&&(i=$.extend(i,a(window.parent.location.hash))),i}function s(e,t){var n=window.frameElement?window.parent.location:window.location,i=a(),r={};t.length>0?r[e]=t:delete i[e],$.extend(i,r),window.frameElement&&delete i.lang;var o=[];for(var s in i)i[s]&&o.push(s+"="+i[s]);n.hash=o.join("&")}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.saveAs=o,t.sortLocale=i,t.intersect=r,t.getHashParams=a,t.setHashParams=s},function(e,t,n){"use strict";(function(e){/*!
 * Vue.js v2.4.4
 * (c) 2014-2017 Evan You
 * Released under the MIT License.
 */
function n(e){return void 0===e||null===e}function i(e){return void 0!==e&&null!==e}function r(e){return!0===e}function o(e){return!1===e}function a(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}function s(e){return null!==e&&"object"===(void 0===e?"undefined":ri(e))}function l(e){return"[object Object]"===oi.call(e)}function u(e){return"[object RegExp]"===oi.call(e)}function c(e){var t=parseFloat(e);return t>=0&&Math.floor(t)===t&&isFinite(e)}function d(e){return null==e?"":"object"===(void 0===e?"undefined":ri(e))?JSON.stringify(e,null,2):String(e)}function f(e){var t=parseFloat(e);return isNaN(t)?e:t}function p(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function h(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function m(e,t){return si.call(e,t)}function v(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}function g(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function _(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function y(e,t){for(var n in t)e[n]=t[n];return e}function b(e){for(var t={},n=0;n<e.length;n++)e[n]&&y(t,e[n]);return t}function w(e,t,n){}function C(e,t){if(e===t)return!0;var n=s(e),i=s(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Array.isArray(e),o=Array.isArray(t);if(r&&o)return e.length===t.length&&e.every(function(e,n){return C(e,t[n])});if(r||o)return!1;var a=Object.keys(e),l=Object.keys(t);return a.length===l.length&&a.every(function(n){return C(e[n],t[n])})}catch(e){return!1}}function x(e,t){for(var n=0;n<e.length;n++)if(C(e[n],t))return n;return-1}function S(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function L(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function k(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function A(e){if(!bi.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}function O(e,t,n){if(_i.errorHandler)_i.errorHandler.call(null,e,t,n);else{if(!xi||"undefined"==typeof console)throw e;console.error(e)}}function T(e){return"function"==typeof e&&/native code/.test(e.toString())}function M(e){Fi.target&&Bi.push(Fi.target),Fi.target=e}function P(){Fi.target=Bi.pop()}function E(e,t,n){e.__proto__=t}function I(e,t,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];k(e,o,t[o])}}function $(e,t){if(s(e)){var n;return m(e,"__ob__")&&e.__ob__ instanceof Zi?n=e.__ob__:Hi.shouldConvert&&!Ri()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Zi(e)),t&&n&&n.vmCount++,n}}function D(e,t,n,i,r){var o=new Fi,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,l=a&&a.set,u=!r&&$(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return Fi.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(t)&&N(t))),t},set:function(t){var i=s?s.call(e):n;t===i||t!==t&&i!==i||(l?l.call(e,t):n=t,u=!r&&$(t),o.notify())}})}}function R(e,t,n){if(Array.isArray(e)&&c(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(m(e,t))return e[t]=n,n;var i=e.__ob__;return e._isVue||i&&i.vmCount?n:i?(D(i.value,t,n),i.dep.notify(),n):(e[t]=n,n)}function j(e,t){if(Array.isArray(e)&&c(t))return void e.splice(t,1);var n=e.__ob__;e._isVue||n&&n.vmCount||m(e,t)&&(delete e[t],n&&n.dep.notify())}function N(e){for(var t=void 0,n=0,i=e.length;n<i;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&N(t)}function q(e,t){if(!t)return e;for(var n,i,r,o=Object.keys(t),a=0;a<o.length;a++)n=o[a],i=e[n],r=t[n],m(e,n)?l(i)&&l(r)&&q(i,r):R(e,n,r);return e}function z(e,t,n){return n?e||t?function(){var i="function"==typeof t?t.call(n):t,r="function"==typeof e?e.call(n):e;return i?q(i,r):r}:void 0:t?e?function(){return q("function"==typeof t?t.call(this):t,"function"==typeof e?e.call(this):e)}:t:e}function F(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function B(e,t){var n=Object.create(e||null);return t?y(n,t):n}function U(e){var t=e.props;if(t){var n,i,r,o={};if(Array.isArray(t))for(n=t.length;n--;)"string"==typeof(i=t[n])&&(r=ui(i),o[r]={type:null});else if(l(t))for(var a in t)i=t[a],r=ui(a),o[r]=l(i)?i:{type:i};e.props=o}}function V(e){var t=e.inject;if(Array.isArray(t))for(var n=e.inject={},i=0;i<t.length;i++)n[t[i]]=t[i]}function G(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"==typeof i&&(t[n]={bind:i,update:i})}}function H(e,t,n){function i(i){var r=Wi[i]||Ji;l[i]=r(e[i],t[i],n,i)}"function"==typeof t&&(t=t.options),U(t),V(t),G(t);var r=t.extends;if(r&&(e=H(e,r,n)),t.mixins)for(var o=0,a=t.mixins.length;o<a;o++)e=H(e,t.mixins[o],n);var s,l={};for(s in e)i(s);for(s in t)m(e,s)||i(s);return l}function Z(e,t,n,i){if("string"==typeof n){var r=e[t];if(m(r,n))return r[n];var o=ui(n);if(m(r,o))return r[o];var a=ci(o);if(m(r,a))return r[a];return r[n]||r[o]||r[a]}}function W(e,t,n,i){var r=t[e],o=!m(n,e),a=n[e];if(X(Boolean,r.type)&&(o&&!m(r,"default")?a=!1:X(String,r.type)||""!==a&&a!==fi(e)||(a=!0)),void 0===a){a=J(i,r,e);var s=Hi.shouldConvert;Hi.shouldConvert=!0,$(a),Hi.shouldConvert=s}return a}function J(e,t,n){if(m(t,"default")){var i=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof i&&"Function"!==K(t.type)?i.call(e):i}}function K(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function X(e,t){if(!Array.isArray(t))return K(t)===K(e);for(var n=0,i=t.length;n<i;n++)if(K(t[n])===K(e))return!0;return!1}function Q(e){return new Ki(void 0,void 0,void 0,String(e))}function Y(e,t){var n=new Ki(e.tag,e.data,e.children,e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return n.ns=e.ns,n.isStatic=e.isStatic,n.key=e.key,n.isComment=e.isComment,n.isCloned=!0,t&&e.children&&(n.children=ee(e.children)),n}function ee(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++)i[r]=Y(e[r],t);return i}function te(e){function t(){var e=arguments,n=t.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var i=n.slice(),r=0;r<i.length;r++)i[r].apply(null,e)}return t.fns=e,t}function ne(e,t){return e.plain?-1:t.plain?1:0}function ie(e,t,i,r,o){var a,s,l,u,c=[],d=!1;for(a in e)s=e[a],l=t[a],u=er(a),u.plain||(d=!0),n(s)||(n(l)?(n(s.fns)&&(s=e[a]=te(s)),u.handler=s,c.push(u)):s!==l&&(l.fns=s,e[a]=l));if(c.length){d&&c.sort(ne);for(var f=0;f<c.length;f++){var p=c[f];i(p.name,p.handler,p.once,p.capture,p.passive)}}for(a in t)n(e[a])&&(u=er(a),r(u.name,t[a],u.capture))}function re(e,t,o){function a(){o.apply(this,arguments),h(s.fns,a)}var s,l=e[t];n(l)?s=te([a]):i(l.fns)&&r(l.merged)?(s=l,s.fns.push(a)):s=te([l,a]),s.merged=!0,e[t]=s}function oe(e,t,r){var o=t.options.props;if(!n(o)){var a={},s=e.attrs,l=e.props;if(i(s)||i(l))for(var u in o){var c=fi(u);ae(a,l,u,c,!0)||ae(a,s,u,c,!1)}return a}}function ae(e,t,n,r,o){if(i(t)){if(m(t,n))return e[n]=t[n],o||delete t[n],!0;if(m(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function se(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function le(e){return a(e)?[Q(e)]:Array.isArray(e)?ce(e):void 0}function ue(e){return i(e)&&i(e.text)&&o(e.isComment)}function ce(e,t){var o,s,l,u=[];for(o=0;o<e.length;o++)s=e[o],n(s)||"boolean"==typeof s||(l=u[u.length-1],Array.isArray(s)?u.push.apply(u,ce(s,(t||"")+"_"+o)):a(s)?ue(l)?l.text+=String(s):""!==s&&u.push(Q(s)):ue(s)&&ue(l)?u[u.length-1]=Q(l.text+s.text):(r(e._isVList)&&i(s.tag)&&n(s.key)&&i(t)&&(s.key="__vlist"+t+"_"+o+"__"),u.push(s)));return u}function de(e,t){return e.__esModule&&e.default&&(e=e.default),s(e)?t.extend(e):e}function fe(e,t,n,i,r){var o=Yi();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:i,tag:r},o}function pe(e,t,o){if(r(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;if(r(e.loading)&&i(e.loadingComp))return e.loadingComp;if(!i(e.contexts)){var a=e.contexts=[o],l=!0,u=function(){for(var e=0,t=a.length;e<t;e++)a[e].$forceUpdate()},c=S(function(n){e.resolved=de(n,t),l||u()}),d=S(function(t){i(e.errorComp)&&(e.error=!0,u())}),f=e(c,d);return s(f)&&("function"==typeof f.then?n(e.resolved)&&f.then(c,d):i(f.component)&&"function"==typeof f.component.then&&(f.component.then(c,d),i(f.error)&&(e.errorComp=de(f.error,t)),i(f.loading)&&(e.loadingComp=de(f.loading,t),0===f.delay?e.loading=!0:setTimeout(function(){n(e.resolved)&&n(e.error)&&(e.loading=!0,u())},f.delay||200)),i(f.timeout)&&setTimeout(function(){n(e.resolved)&&d(null)},f.timeout))),l=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(o)}function he(e){return e.isComment&&e.asyncFactory}function me(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(i(n)&&(i(n.componentOptions)||he(n)))return n}}function ve(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&ye(e,t)}function ge(e,t,n){n?Qi.$once(e,t):Qi.$on(e,t)}function _e(e,t){Qi.$off(e,t)}function ye(e,t,n){Qi=e,ie(t,n||{},ge,_e,e)}function be(e,t){var n={};if(!e)return n;for(var i=[],r=0,o=e.length;r<o;r++){var a=e[r],s=a.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,a.context!==t&&a.functionalContext!==t||!s||null==s.slot)i.push(a);else{var l=a.data.slot,u=n[l]||(n[l]=[]);"template"===a.tag?u.push.apply(u,a.children):u.push(a)}}return i.every(we)||(n.default=i),n}function we(e){return e.isComment||" "===e.text}function Ce(e,t){t=t||{};for(var n=0;n<e.length;n++)Array.isArray(e[n])?Ce(e[n],t):t[e[n].key]=e[n].fn;return t}function xe(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Se(e,t,n){e.$el=t,e.$options.render||(e.$options.render=Yi),Te(e,"beforeMount");var i;return i=function(){e._update(e._render(),n)},e._watcher=new ur(e,i,w),n=!1,null==e.$vnode&&(e._isMounted=!0,Te(e,"mounted")),e}function Le(e,t,n,i,r){var o=!!(r||e.$options._renderChildren||i.data.scopedSlots||e.$scopedSlots!==yi);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=r,e.$attrs=i.data&&i.data.attrs||yi,e.$listeners=n||yi,t&&e.$options.props){Hi.shouldConvert=!1;for(var a=e._props,s=e.$options._propKeys||[],l=0;l<s.length;l++){var u=s[l];a[u]=W(u,e.$options.props,t,e)}Hi.shouldConvert=!0,e.$options.propsData=t}if(n){var c=e.$options._parentListeners;e.$options._parentListeners=n,ye(e,n,c)}o&&(e.$slots=be(r,i.context),e.$forceUpdate())}function ke(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Ae(e,t){if(t){if(e._directInactive=!1,ke(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Ae(e.$children[n]);Te(e,"activated")}}function Oe(e,t){if(!(t&&(e._directInactive=!0,ke(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Oe(e.$children[n]);Te(e,"deactivated")}}function Te(e,t){var n=e.$options[t];if(n)for(var i=0,r=n.length;i<r;i++)try{n[i].call(e)}catch(n){O(n,e,t+" hook")}e._hasHookEvent&&e.$emit("hook:"+t)}function Me(){sr=nr.length=ir.length=0,rr={},or=ar=!1}function Pe(){ar=!0;var e,t;for(nr.sort(function(e,t){return e.id-t.id}),sr=0;sr<nr.length;sr++)e=nr[sr],t=e.id,rr[t]=null,e.run();var n=ir.slice(),i=nr.slice();Me(),$e(n),Ee(i),ji&&_i.devtools&&ji.emit("flush")}function Ee(e){for(var t=e.length;t--;){var n=e[t],i=n.vm;i._watcher===n&&i._isMounted&&Te(i,"updated")}}function Ie(e){e._inactive=!1,ir.push(e)}function $e(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Ae(e[t],!0)}function De(e){var t=e.id;if(null==rr[t]){if(rr[t]=!0,ar){for(var n=nr.length-1;n>sr&&nr[n].id>e.id;)n--;nr.splice(n+1,0,e)}else nr.push(e);or||(or=!0,qi(Pe))}}function Re(e){cr.clear(),je(e,cr)}function je(e,t){var n,i,r=Array.isArray(e);if((r||s(e))&&Object.isExtensible(e)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(r)for(n=e.length;n--;)je(e[n],t);else for(i=Object.keys(e),n=i.length;n--;)je(e[i[n]],t)}}function Ne(e,t,n){dr.get=function(){return this[t][n]},dr.set=function(e){this[t][n]=e},Object.defineProperty(e,n,dr)}function qe(e){e._watchers=[];var t=e.$options;t.props&&ze(e,t.props),t.methods&&He(e,t.methods),t.data?Fe(e):$(e._data={},!0),t.computed&&Ue(e,t.computed),t.watch&&t.watch!==Pi&&Ze(e,t.watch)}function ze(e,t){var n=e.$options.propsData||{},i=e._props={},r=e.$options._propKeys=[],o=!e.$parent;Hi.shouldConvert=o;for(var a in t)!function(o){r.push(o);var a=W(o,t,n,e);D(i,o,a),o in e||Ne(e,"_props",o)}(a);Hi.shouldConvert=!0}function Fe(e){var t=e.$options.data;t=e._data="function"==typeof t?Be(t,e):t||{},l(t)||(t={});for(var n=Object.keys(t),i=e.$options.props,r=(e.$options.methods,n.length);r--;){var o=n[r];i&&m(i,o)||L(o)||Ne(e,"_data",o)}$(t,!0)}function Be(e,t){try{return e.call(t)}catch(e){return O(e,t,"data()"),{}}}function Ue(e,t){var n=e._computedWatchers=Object.create(null),i=Ri();for(var r in t){var o=t[r],a="function"==typeof o?o:o.get;i||(n[r]=new ur(e,a||w,w,fr)),r in e||Ve(e,r,o)}}function Ve(e,t,n){var i=!Ri();"function"==typeof n?(dr.get=i?Ge(t):n,dr.set=w):(dr.get=n.get?i&&!1!==n.cache?Ge(t):n.get:w,dr.set=n.set?n.set:w),Object.defineProperty(e,t,dr)}function Ge(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),Fi.target&&t.depend(),t.value}}function He(e,t){e.$options.props;for(var n in t)e[n]=null==t[n]?w:g(t[n],e)}function Ze(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)We(e,n,i[r]);else We(e,n,i)}}function We(e,t,n,i){return l(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}function Je(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}function Ke(e){var t=Xe(e.$options.inject,e);t&&(Hi.shouldConvert=!1,Object.keys(t).forEach(function(n){D(e,n,t[n])}),Hi.shouldConvert=!0)}function Xe(e,t){if(e){for(var n=Object.create(null),i=Ni?Reflect.ownKeys(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}):Object.keys(e),r=0;r<i.length;r++)for(var o=i[r],a=e[o],s=t;s;){if(s._provided&&a in s._provided){n[o]=s._provided[a];break}s=s.$parent}return n}}function Qe(e,t,n,r,o){var a={},s=e.options.props;if(i(s))for(var l in s)a[l]=W(l,s,t||yi);else i(n.attrs)&&Ye(a,n.attrs),i(n.props)&&Ye(a,n.props);var u=Object.create(r),c=function(e,t,n,i){return ot(u,e,t,n,i,!0)},d=e.options.render.call(null,c,{data:n,props:a,children:o,parent:r,listeners:n.on||yi,injections:Xe(e.options.inject,r),slots:function(){return be(o,r)}});return d instanceof Ki&&(d.functionalContext=r,d.functionalOptions=e.options,n.slot&&((d.data||(d.data={})).slot=n.slot)),d}function Ye(e,t){for(var n in t)e[ui(n)]=t[n]}function et(e,t,o,a,l){if(!n(e)){var u=o.$options._base;if(s(e)&&(e=u.extend(e)),"function"==typeof e){var c;if(n(e.cid)&&(c=e,void 0===(e=pe(c,u,o))))return fe(c,t,o,a,l);t=t||{},bt(e),i(t.model)&&rt(e.options,t);var d=oe(t,e,l);if(r(e.options.functional))return Qe(e,d,t,o,a);var f=t.on;if(t.on=t.nativeOn,r(e.options.abstract)){var p=t.slot;t={},p&&(t.slot=p)}nt(t);var h=e.options.name||l;return new Ki("vue-component-"+e.cid+(h?"-"+h:""),t,void 0,void 0,void 0,o,{Ctor:e,propsData:d,listeners:f,tag:l,children:a},c)}}}function tt(e,t,n,r){var o=e.componentOptions,a={_isComponent:!0,parent:t,propsData:o.propsData,_componentTag:o.tag,_parentVnode:e,_parentListeners:o.listeners,_renderChildren:o.children,_parentElm:n||null,_refElm:r||null},s=e.data.inlineTemplate;return i(s)&&(a.render=s.render,a.staticRenderFns=s.staticRenderFns),new o.Ctor(a)}function nt(e){e.hook||(e.hook={});for(var t=0;t<hr.length;t++){var n=hr[t],i=e.hook[n],r=pr[n];e.hook[n]=i?it(r,i):r}}function it(e,t){return function(n,i,r,o){e(n,i,r,o),t(n,i,r,o)}}function rt(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.props||(t.props={}))[n]=t.model.value;var o=t.on||(t.on={});i(o[r])?o[r]=[t.model.callback].concat(o[r]):o[r]=t.model.callback}function ot(e,t,n,i,o,s){return(Array.isArray(n)||a(n))&&(o=i,i=n,n=void 0),r(s)&&(o=vr),at(e,t,n,i,o)}function at(e,t,n,r,o){if(i(n)&&i(n.__ob__))return Yi();if(i(n)&&i(n.is)&&(t=n.is),!t)return Yi();Array.isArray(r)&&"function"==typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===vr?r=le(r):o===mr&&(r=se(r));var a,s;if("string"==typeof t){var l;s=e.$vnode&&e.$vnode.ns||_i.getTagNamespace(t),a=_i.isReservedTag(t)?new Ki(_i.parsePlatformTagName(t),n,r,void 0,void 0,e):i(l=Z(e.$options,"components",t))?et(l,n,e,r,t):new Ki(t,n,r,void 0,void 0,e)}else a=et(t,n,e,r);return i(a)?(s&&st(a,s),a):Yi()}function st(e,t){if(e.ns=t,"foreignObject"!==e.tag&&i(e.children))for(var r=0,o=e.children.length;r<o;r++){var a=e.children[r];i(a.tag)&&n(a.ns)&&st(a,t)}}function lt(e,t){var n,r,o,a,l;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,o=e.length;r<o;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(s(e))for(a=Object.keys(e),n=new Array(a.length),r=0,o=a.length;r<o;r++)l=a[r],n[r]=t(e[l],l,r);return i(n)&&(n._isVList=!0),n}function ut(e,t,n,i){var r=this.$scopedSlots[e];if(r)return n=n||{},i&&(n=y(y({},i),n)),r(n)||t;var o=this.$slots[e];return o||t}function ct(e){return Z(this.$options,"filters",e,!0)||hi}function dt(e,t,n){var i=_i.keyCodes[t]||n;return Array.isArray(i)?-1===i.indexOf(e):i!==e}function ft(e,t,n,i,r){if(n)if(s(n)){Array.isArray(n)&&(n=b(n));var o;for(var a in n)!function(a){if("class"===a||"style"===a||ai(a))o=e;else{var s=e.attrs&&e.attrs.type;o=i||_i.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}if(!(a in o)&&(o[a]=n[a],r)){(e.on||(e.on={}))["update:"+a]=function(e){n[a]=e}}}(a)}else;return e}function pt(e,t){var n=this._staticTrees[e];return n&&!t?Array.isArray(n)?ee(n):Y(n):(n=this._staticTrees[e]=this.$options.staticRenderFns[e].call(this._renderProxy),mt(n,"__static__"+e,!1),n)}function ht(e,t,n){return mt(e,"__once__"+t+(n?"_"+n:""),!0),e}function mt(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&vt(e[i],t+"_"+i,n);else vt(e,t,n)}function vt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function gt(e,t){if(t)if(l(t)){var n=e.on=e.on?y({},e.on):{};for(var i in t){var r=n[i],o=t[i];n[i]=r?[].concat(o,r):o}}else;return e}function _t(e){e._vnode=null,e._staticTrees=null;var t=e.$vnode=e.$options._parentVnode,n=t&&t.context;e.$slots=be(e.$options._renderChildren,n),e.$scopedSlots=yi,e._c=function(t,n,i,r){return ot(e,t,n,i,r,!1)},e.$createElement=function(t,n,i,r){return ot(e,t,n,i,r,!0)};var i=t&&t.data;D(e,"$attrs",i&&i.attrs||yi,null,!0),D(e,"$listeners",e.$options._parentListeners||yi,null,!0)}function yt(e,t){var n=e.$options=Object.create(e.constructor.options);n.parent=t.parent,n.propsData=t.propsData,n._parentVnode=t._parentVnode,n._parentListeners=t._parentListeners,n._renderChildren=t._renderChildren,n._componentTag=t._componentTag,n._parentElm=t._parentElm,n._refElm=t._refElm,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function bt(e){var t=e.options;if(e.super){var n=bt(e.super);if(n!==e.superOptions){e.superOptions=n;var i=wt(e);i&&y(e.extendOptions,i),t=e.options=H(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function wt(e){var t,n=e.options,i=e.extendOptions,r=e.sealedOptions;for(var o in n)n[o]!==r[o]&&(t||(t={}),t[o]=Ct(n[o],i[o],r[o]));return t}function Ct(e,t,n){if(Array.isArray(e)){var i=[];n=Array.isArray(n)?n:[n],t=Array.isArray(t)?t:[t];for(var r=0;r<e.length;r++)(t.indexOf(e[r])>=0||n.indexOf(e[r])<0)&&i.push(e[r]);return i}return e}function xt(e){this._init(e)}function St(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=_(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}function Lt(e){e.mixin=function(e){return this.options=H(this.options,e),this}}function kt(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var o=e.name||n.options.name,a=function(e){this._init(e)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=t++,a.options=H(n.options,e),a.super=n,a.options.props&&At(a),a.options.computed&&Ot(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,vi.forEach(function(e){a[e]=n[e]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=y({},a.options),r[i]=a,a}}function At(e){var t=e.options.props;for(var n in t)Ne(e.prototype,"_props",n)}function Ot(e){var t=e.options.computed;for(var n in t)Ve(e.prototype,n,t[n])}function Tt(e){vi.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&l(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}function Mt(e){return e&&(e.Ctor.options.name||e.tag)}function Pt(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!u(e)&&e.test(t)}function Et(e,t,n){for(var i in e){var r=e[i];if(r){var o=Mt(r.componentOptions);o&&!n(o)&&(r!==t&&It(r),e[i]=null)}}}function It(e){e&&e.componentInstance.$destroy()}function $t(e){for(var t=e.data,n=e,r=e;i(r.componentInstance);)r=r.componentInstance._vnode,r.data&&(t=Dt(r.data,t));for(;i(n=n.parent);)n.data&&(t=Dt(t,n.data));return Rt(t.staticClass,t.class)}function Dt(e,t){return{staticClass:jt(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function Rt(e,t){return i(e)||i(t)?jt(e,Nt(t)):""}function jt(e,t){return e?t?e+" "+t:e:t||""}function Nt(e){return Array.isArray(e)?qt(e):s(e)?zt(e):"string"==typeof e?e:""}function qt(e){for(var t,n="",r=0,o=e.length;r<o;r++)i(t=Nt(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function zt(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function Ft(e){return $r(e)?"svg":"math"===e?"math":void 0}function Bt(e){if(!xi)return!0;if(Dr(e))return!1;if(e=e.toLowerCase(),null!=Rr[e])return Rr[e];var t=document.createElement(e);return e.indexOf("-")>-1?Rr[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Rr[e]=/HTMLUnknownElement/.test(t.toString())}function Ut(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function Vt(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function Gt(e,t){return document.createElementNS(Er[e],t)}function Ht(e){return document.createTextNode(e)}function Zt(e){return document.createComment(e)}function Wt(e,t,n){e.insertBefore(t,n)}function Jt(e,t){e.removeChild(t)}function Kt(e,t){e.appendChild(t)}function Xt(e){return e.parentNode}function Qt(e){return e.nextSibling}function Yt(e){return e.tagName}function en(e,t){e.textContent=t}function tn(e,t,n){e.setAttribute(t,n)}function nn(e,t){var n=e.data.ref;if(n){var i=e.context,r=e.componentInstance||e.elm,o=i.$refs;t?Array.isArray(o[n])?h(o[n],r):o[n]===r&&(o[n]=void 0):e.data.refInFor?Array.isArray(o[n])?o[n].indexOf(r)<0&&o[n].push(r):o[n]=[r]:o[n]=r}}function rn(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&i(e.data)===i(t.data)&&on(e,t)||r(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&n(t.asyncFactory.error))}function on(e,t){if("input"!==e.tag)return!0;var n,r=i(n=e.data)&&i(n=n.attrs)&&n.type,o=i(n=t.data)&&i(n=n.attrs)&&n.type;return r===o||jr(r)&&jr(o)}function an(e,t,n){var r,o,a={};for(r=t;r<=n;++r)o=e[r].key,i(o)&&(a[o]=r);return a}function sn(e,t){(e.data.directives||t.data.directives)&&ln(e,t)}function ln(e,t){var n,i,r,o=e===zr,a=t===zr,s=un(e.data.directives,e.context),l=un(t.data.directives,t.context),u=[],c=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,dn(r,"update",t,e),r.def&&r.def.componentUpdated&&c.push(r)):(dn(r,"bind",t,e),r.def&&r.def.inserted&&u.push(r));if(u.length){var d=function(){for(var n=0;n<u.length;n++)dn(u[n],"inserted",t,e)};o?re(t.data.hook||(t.data.hook={}),"insert",d):d()}if(c.length&&re(t.data.hook||(t.data.hook={}),"postpatch",function(){for(var n=0;n<c.length;n++)dn(c[n],"componentUpdated",t,e)}),!o)for(n in s)l[n]||dn(s[n],"unbind",e,e,a)}function un(e,t){var n=Object.create(null);if(!e)return n;var i,r;for(i=0;i<e.length;i++)r=e[i],r.modifiers||(r.modifiers=Ur),n[cn(r)]=r,r.def=Z(t.$options,"directives",r.name,!0);return n}function cn(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function dn(e,t,n,i,r){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,i,r)}catch(i){O(i,n.context,"directive "+e.name+" "+t+" hook")}}function fn(e,t){var r=t.componentOptions;if(!(i(r)&&!1===r.Ctor.options.inheritAttrs||n(e.data.attrs)&&n(t.data.attrs))){var o,a,s=t.elm,l=e.data.attrs||{},u=t.data.attrs||{};i(u.__ob__)&&(u=t.data.attrs=y({},u));for(o in u)a=u[o],l[o]!==a&&pn(s,o,a);ki&&u.value!==l.value&&pn(s,"value",u.value);for(o in l)n(u[o])&&(Tr(o)?s.removeAttributeNS(Or,Mr(o)):kr(o)||s.removeAttribute(o))}}function pn(e,t,n){Ar(t)?Pr(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):kr(t)?e.setAttribute(t,Pr(n)||"false"===n?"false":"true"):Tr(t)?Pr(n)?e.removeAttributeNS(Or,Mr(t)):e.setAttributeNS(Or,t,n):Pr(n)?e.removeAttribute(t):e.setAttribute(t,n)}function hn(e,t){var r=t.elm,o=t.data,a=e.data;if(!(n(o.staticClass)&&n(o.class)&&(n(a)||n(a.staticClass)&&n(a.class)))){var s=$t(t),l=r._transitionClasses;i(l)&&(s=jt(s,Nt(l))),s!==r._prevClass&&(r.setAttribute("class",s),r._prevClass=s)}}function mn(e){var t;i(e[Zr])&&(t=Li?"change":"input",e[t]=[].concat(e[Zr],e[t]||[]),delete e[Zr]),i(e[Wr])&&(t=Mi?"click":"change",e[t]=[].concat(e[Wr],e[t]||[]),delete e[Wr])}function vn(e,t,n,i,r){if(n){var o=t,a=wr;t=function(n){null!==(1===arguments.length?o(n):o.apply(null,arguments))&&gn(e,t,i,a)}}wr.addEventListener(e,t,Ei?{capture:i,passive:r}:i)}function gn(e,t,n,i){(i||wr).removeEventListener(e,t,n)}function _n(e,t){if(!n(e.data.on)||!n(t.data.on)){var i=t.data.on||{},r=e.data.on||{};wr=t.elm,mn(i),ie(i,r,vn,gn,t.context)}}function yn(e,t){if(!n(e.data.domProps)||!n(t.data.domProps)){var r,o,a=t.elm,s=e.data.domProps||{},l=t.data.domProps||{};i(l.__ob__)&&(l=t.data.domProps=y({},l));for(r in s)n(l[r])&&(a[r]="");for(r in l)if(o=l[r],"textContent"!==r&&"innerHTML"!==r||(t.children&&(t.children.length=0),o!==s[r]))if("value"===r){a._value=o;var u=n(o)?"":String(o);bn(a,t,u)&&(a.value=u)}else a[r]=o}}function bn(e,t,n){return!e.composing&&("option"===t.tag||wn(e,n)||Cn(e,n))}function wn(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}function Cn(e,t){var n=e.value,r=e._vModifiers;return i(r)&&r.number?f(n)!==f(t):i(r)&&r.trim?n.trim()!==t.trim():n!==t}function xn(e){var t=Sn(e.style);return e.staticStyle?y(e.staticStyle,t):t}function Sn(e){return Array.isArray(e)?b(e):"string"==typeof e?Xr(e):e}function Ln(e,t){var n,i={};if(t)for(var r=e;r.componentInstance;)r=r.componentInstance._vnode,r.data&&(n=xn(r.data))&&y(i,n);(n=xn(e.data))&&y(i,n);for(var o=e;o=o.parent;)o.data&&(n=xn(o.data))&&y(i,n);return i}function kn(e,t){var r=t.data,o=e.data;if(!(n(r.staticStyle)&&n(r.style)&&n(o.staticStyle)&&n(o.style))){var a,s,l=t.elm,u=o.staticStyle,c=o.normalizedStyle||o.style||{},d=u||c,f=Sn(t.data.style)||{};t.data.normalizedStyle=i(f.__ob__)?y({},f):f;var p=Ln(t,!0);for(s in d)n(p[s])&&eo(l,s,"");for(s in p)(a=p[s])!==d[s]&&eo(l,s,null==a?"":a)}}function An(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function On(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function Tn(e){if(e){if("object"===(void 0===e?"undefined":ri(e))){var t={};return!1!==e.css&&y(t,ro(e.name||"v")),y(t,e),t}return"string"==typeof e?ro(e):void 0}}function Mn(e){po(function(){po(e)})}function Pn(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),An(e,t))}function En(e,t){e._transitionClasses&&h(e._transitionClasses,t),On(e,t)}function In(e,t,n){var i=$n(e,t),r=i.type,o=i.timeout,a=i.propCount;if(!r)return n();var s=r===ao?uo:fo,l=0,u=function(){e.removeEventListener(s,c),n()},c=function(t){t.target===e&&++l>=a&&u()};setTimeout(function(){l<a&&u()},o+1),e.addEventListener(s,c)}function $n(e,t){var n,i=window.getComputedStyle(e),r=i[lo+"Delay"].split(", "),o=i[lo+"Duration"].split(", "),a=Dn(r,o),s=i[co+"Delay"].split(", "),l=i[co+"Duration"].split(", "),u=Dn(s,l),c=0,d=0;return t===ao?a>0&&(n=ao,c=a,d=o.length):t===so?u>0&&(n=so,c=u,d=l.length):(c=Math.max(a,u),n=c>0?a>u?ao:so:null,d=n?n===ao?o.length:l.length:0),{type:n,timeout:c,propCount:d,hasTransform:n===ao&&ho.test(i[lo+"Property"])}}function Dn(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return Rn(t)+Rn(e[n])}))}function Rn(e){return 1e3*Number(e.slice(0,-1))}function jn(e,t){var r=e.elm;i(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var o=Tn(e.data.transition);if(!n(o)&&!i(r._enterCb)&&1===r.nodeType){for(var a=o.css,l=o.type,u=o.enterClass,c=o.enterToClass,d=o.enterActiveClass,p=o.appearClass,h=o.appearToClass,m=o.appearActiveClass,v=o.beforeEnter,g=o.enter,_=o.afterEnter,y=o.enterCancelled,b=o.beforeAppear,w=o.appear,C=o.afterAppear,x=o.appearCancelled,L=o.duration,k=tr,A=tr.$vnode;A&&A.parent;)A=A.parent,k=A.context;var O=!k._isMounted||!e.isRootInsert;if(!O||w||""===w){var T=O&&p?p:u,M=O&&m?m:d,P=O&&h?h:c,E=O?b||v:v,I=O&&"function"==typeof w?w:g,$=O?C||_:_,D=O?x||y:y,R=f(s(L)?L.enter:L),j=!1!==a&&!ki,N=zn(I),q=r._enterCb=S(function(){j&&(En(r,P),En(r,M)),q.cancelled?(j&&En(r,T),D&&D(r)):$&&$(r),r._enterCb=null});e.data.show||re(e.data.hook||(e.data.hook={}),"insert",function(){var t=r.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),I&&I(r,q)}),E&&E(r),j&&(Pn(r,T),Pn(r,M),Mn(function(){Pn(r,P),En(r,T),q.cancelled||N||(qn(R)?setTimeout(q,R):In(r,l,q))})),e.data.show&&(t&&t(),I&&I(r,q)),j||N||q()}}}function Nn(e,t){function r(){x.cancelled||(e.data.show||((o.parentNode._pending||(o.parentNode._pending={}))[e.key]=e),h&&h(o),b&&(Pn(o,c),Pn(o,p),Mn(function(){Pn(o,d),En(o,c),x.cancelled||w||(qn(C)?setTimeout(x,C):In(o,u,x))})),m&&m(o,x),b||w||x())}var o=e.elm;i(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var a=Tn(e.data.transition);if(n(a))return t();if(!i(o._leaveCb)&&1===o.nodeType){var l=a.css,u=a.type,c=a.leaveClass,d=a.leaveToClass,p=a.leaveActiveClass,h=a.beforeLeave,m=a.leave,v=a.afterLeave,g=a.leaveCancelled,_=a.delayLeave,y=a.duration,b=!1!==l&&!ki,w=zn(m),C=f(s(y)?y.leave:y),x=o._leaveCb=S(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[e.key]=null),b&&(En(o,d),En(o,p)),x.cancelled?(b&&En(o,c),g&&g(o)):(t(),v&&v(o)),o._leaveCb=null});_?_(r):r()}}function qn(e){return"number"==typeof e&&!isNaN(e)}function zn(e){if(n(e))return!1;var t=e.fns;return i(t)?zn(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Fn(e,t){!0!==t.data.show&&jn(t)}function Bn(e,t,n){Un(e,t,n),(Li||Ai)&&setTimeout(function(){Un(e,t,n)},0)}function Un(e,t,n){var i=t.value,r=e.multiple;if(!r||Array.isArray(i)){for(var o,a,s=0,l=e.options.length;s<l;s++)if(a=e.options[s],r)o=x(i,Gn(a))>-1,a.selected!==o&&(a.selected=o);else if(C(Gn(a),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));r||(e.selectedIndex=-1)}}function Vn(e,t){return t.every(function(t){return!C(t,e)})}function Gn(e){return"_value"in e?e._value:e.value}function Hn(e){e.target.composing=!0}function Zn(e){e.target.composing&&(e.target.composing=!1,Wn(e.target,"input"))}function Wn(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Jn(e){return!e.componentInstance||e.data&&e.data.transition?e:Jn(e.componentInstance._vnode)}function Kn(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Kn(me(t.children)):e}function Xn(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var o in r)t[ui(o)]=r[o];return t}function Qn(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Yn(e){for(;e=e.parent;)if(e.data.transition)return!0}function ei(e,t){return t.key===e.key&&t.tag===e.tag}function ti(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function ni(e){e.data.newPos=e.elm.getBoundingClientRect()}function ii(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}Object.defineProperty(t,"__esModule",{value:!0});var ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi=Object.prototype.toString,ai=(p("slot,component",!0),p("key,ref,slot,is")),si=Object.prototype.hasOwnProperty,li=/-(\w)/g,ui=v(function(e){return e.replace(li,function(e,t){return t?t.toUpperCase():""})}),ci=v(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),di=/\B([A-Z])/g,fi=v(function(e){return e.replace(di,"-$1").toLowerCase()}),pi=function(e,t,n){return!1},hi=function(e){return e},mi="data-server-rendered",vi=["component","directive","filter"],gi=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],_i={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:pi,isReservedAttr:pi,isUnknownElement:pi,getTagNamespace:w,parsePlatformTagName:hi,mustUseProp:pi,_lifecycleHooks:gi},yi=Object.freeze({}),bi=/[^\w.$]/,wi=w,Ci="__proto__"in{},xi="undefined"!=typeof window,Si=xi&&window.navigator.userAgent.toLowerCase(),Li=Si&&/msie|trident/.test(Si),ki=Si&&Si.indexOf("msie 9.0")>0,Ai=Si&&Si.indexOf("edge/")>0,Oi=Si&&Si.indexOf("android")>0,Ti=Si&&/iphone|ipad|ipod|ios/.test(Si),Mi=Si&&/chrome\/\d+/.test(Si)&&!Ai,Pi={}.watch,Ei=!1;if(xi)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Ei=!0}}),window.addEventListener("test-passive",null,Ii)}catch(e){}var $i,Di,Ri=function(){return void 0===$i&&($i=!xi&&void 0!==e&&"server"===e.process.env.VUE_ENV),$i},ji=xi&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Ni="undefined"!=typeof Symbol&&T(Symbol)&&"undefined"!=typeof Reflect&&T(Reflect.ownKeys),qi=function(){function e(){i=!1;var e=n.slice(0);n.length=0;for(var t=0;t<e.length;t++)e[t]()}var t,n=[],i=!1;if("undefined"!=typeof Promise&&T(Promise)){var r=Promise.resolve(),o=function(e){console.error(e)};t=function(){r.then(e).catch(o),Ti&&setTimeout(w)}}else if(Li||"undefined"==typeof MutationObserver||!T(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())t=function(){setTimeout(e,0)};else{var a=1,s=new MutationObserver(e),l=document.createTextNode(String(a));s.observe(l,{characterData:!0}),t=function(){a=(a+1)%2,l.data=String(a)}}return function(e,r){var o;if(n.push(function(){if(e)try{e.call(r)}catch(e){O(e,r,"nextTick")}else o&&o(r)}),i||(i=!0,t()),!e&&"undefined"!=typeof Promise)return new Promise(function(e,t){o=e})}}();Di="undefined"!=typeof Set&&T(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var zi=0,Fi=function(){this.id=zi++,this.subs=[]};Fi.prototype.addSub=function(e){this.subs.push(e)},Fi.prototype.removeSub=function(e){h(this.subs,e)},Fi.prototype.depend=function(){Fi.target&&Fi.target.addDep(this)},Fi.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},Fi.target=null;var Bi=[],Ui=Array.prototype,Vi=Object.create(Ui);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=Ui[e];k(Vi,e,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,o=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&a.observeArray(r),a.dep.notify(),o})});var Gi=Object.getOwnPropertyNames(Vi),Hi={shouldConvert:!0},Zi=function(e){if(this.value=e,this.dep=new Fi,this.vmCount=0,k(e,"__ob__",this),Array.isArray(e)){(Ci?E:I)(e,Vi,Gi),this.observeArray(e)}else this.walk(e)};Zi.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)D(e,t[n],e[t[n]])},Zi.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)$(e[t])};var Wi=_i.optionMergeStrategies;Wi.data=function(e,t,n){return n?z(e,t,n):t&&"function"!=typeof t?e:z.call(this,e,t)},gi.forEach(function(e){Wi[e]=F}),vi.forEach(function(e){Wi[e+"s"]=B}),Wi.watch=function(e,t){if(e===Pi&&(e=void 0),t===Pi&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var n={};y(n,e);for(var i in t){var r=n[i],o=t[i];r&&!Array.isArray(r)&&(r=[r]),n[i]=r?r.concat(o):Array.isArray(o)?o:[o]}return n},Wi.props=Wi.methods=Wi.inject=Wi.computed=function(e,t){if(!e)return t;var n=Object.create(null);return y(n,e),t&&y(n,t),n},Wi.provide=z;var Ji=function(e,t){return void 0===t?e:t},Ki=function(e,t,n,i,r,o,a,s){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.functionalContext=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Xi={child:{}};Xi.child.get=function(){return this.componentInstance},Object.defineProperties(Ki.prototype,Xi);var Qi,Yi=function(e){void 0===e&&(e="");var t=new Ki;return t.text=e,t.isComment=!0,t},er=v(function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var i="!"===e.charAt(0);return e=i?e.slice(1):e,{name:e,plain:!(t||n||i),once:n,capture:i,passive:t}}),tr=null,nr=[],ir=[],rr={},or=!1,ar=!1,sr=0,lr=0,ur=function(e,t,n,i){this.vm=e,e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++lr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Di,this.newDepIds=new Di,this.expression="","function"==typeof t?this.getter=t:(this.getter=A(t),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};ur.prototype.get=function(){M(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;O(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Re(e),P(),this.cleanupDeps()}return e},ur.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},ur.prototype.cleanupDeps=function(){for(var e=this,t=this.deps.length;t--;){var n=e.deps[t];e.newDepIds.has(n.id)||n.removeSub(e)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},ur.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():De(this)},ur.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||s(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){O(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},ur.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ur.prototype.depend=function(){for(var e=this,t=this.deps.length;t--;)e.deps[t].depend()},ur.prototype.teardown=function(){var e=this;if(this.active){this.vm._isBeingDestroyed||h(this.vm._watchers,this);for(var t=this.deps.length;t--;)e.deps[t].removeSub(e);this.active=!1}};var cr=new Di,dr={enumerable:!0,configurable:!0,get:w,set:w},fr={lazy:!0},pr={init:function(e,t,n,i){if(!e.componentInstance||e.componentInstance._isDestroyed){(e.componentInstance=tt(e,tr,n,i)).$mount(t?e.elm:void 0,t)}else if(e.data.keepAlive){var r=e;pr.prepatch(r,r)}},prepatch:function(e,t){var n=t.componentOptions;Le(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Te(n,"mounted")),e.data.keepAlive&&(t._isMounted?Ie(n):Ae(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Oe(t,!0):t.$destroy())}},hr=Object.keys(pr),mr=1,vr=2,gr=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=gr++,t._isVue=!0,e&&e._isComponent?yt(t,e):t.$options=H(bt(t.constructor),e||{},t),t._renderProxy=t,t._self=t,xe(t),ve(t),_t(t),Te(t,"beforeCreate"),Ke(t),qe(t),Je(t),Te(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(xt),function(e){var t={};t.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=R,e.prototype.$delete=j,e.prototype.$watch=function(e,t,n){var i=this;if(l(t))return We(i,e,t,n);n=n||{},n.user=!0;var r=new ur(i,e,t,n);return n.immediate&&t.call(i,r.value),function(){r.teardown()}}}(xt),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this,r=this;if(Array.isArray(e))for(var o=0,a=e.length;o<a;o++)i.$on(e[o],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){function n(){i.$off(e,n),t.apply(i,arguments)}var i=this;return n.fn=t,i.$on(e,n),i},e.prototype.$off=function(e,t){var n=this,i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(e)){for(var r=0,o=e.length;r<o;r++)n.$off(e[r],t);return i}var a=i._events[e];if(!a)return i;if(1===arguments.length)return i._events[e]=null,i;if(t)for(var s,l=a.length;l--;)if((s=a[l])===t||s.fn===t){a.splice(l,1);break}return i},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?_(n):n;for(var i=_(arguments,1),r=0,o=n.length;r<o;r++)try{n[r].apply(t,i)}catch(n){O(n,t,'event handler for "'+e+'"')}}return t}}(xt),function(e){e.prototype._update=function(e,t){var n=this;n._isMounted&&Te(n,"beforeUpdate");var i=n.$el,r=n._vnode,o=tr;tr=n,n._vnode=e,r?n.$el=n.__patch__(r,e):(n.$el=n.__patch__(n.$el,e,t,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),tr=o,i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Te(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||h(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Te(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null)}}}(xt),function(e){e.prototype.$nextTick=function(e){return qi(e,this)},e.prototype._render=function(){var e=this,t=e.$options,n=t.render,i=t.staticRenderFns,r=t._parentVnode;if(e._isMounted)for(var o in e.$slots){var a=e.$slots[o];a._rendered&&(e.$slots[o]=ee(a,!0))}e.$scopedSlots=r&&r.data.scopedSlots||yi,i&&!e._staticTrees&&(e._staticTrees=[]),e.$vnode=r;var s;try{s=n.call(e._renderProxy,e.$createElement)}catch(t){O(t,e,"render function"),s=e._vnode}return s instanceof Ki||(s=Yi()),s.parent=r,s},e.prototype._o=ht,e.prototype._n=f,e.prototype._s=d,e.prototype._l=lt,e.prototype._t=ut,e.prototype._q=C,e.prototype._i=x,e.prototype._m=pt,e.prototype._f=ct,e.prototype._k=dt,e.prototype._b=ft,e.prototype._v=Q,e.prototype._e=Yi,e.prototype._u=Ce,e.prototype._g=gt}(xt);var _r=[String,RegExp,Array],yr={name:"keep-alive",abstract:!0,props:{include:_r,exclude:_r},created:function(){this.cache=Object.create(null)},destroyed:function(){var e=this;for(var t in e.cache)It(e.cache[t])},watch:{include:function(e){Et(this.cache,this._vnode,function(t){return Pt(e,t)})},exclude:function(e){Et(this.cache,this._vnode,function(t){return!Pt(e,t)})}},render:function(){var e=me(this.$slots.default),t=e&&e.componentOptions;if(t){var n=Mt(t);if(n&&(this.include&&!Pt(this.include,n)||this.exclude&&Pt(this.exclude,n)))return e;var i=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;this.cache[i]?e.componentInstance=this.cache[i].componentInstance:this.cache[i]=e,e.data.keepAlive=!0}return e}},br={KeepAlive:yr};!function(e){var t={};t.get=function(){return _i},Object.defineProperty(e,"config",t),e.util={warn:wi,extend:y,mergeOptions:H,defineReactive:D},e.set=R,e.delete=j,e.nextTick=qi,e.options=Object.create(null),vi.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,y(e.options.components,br),St(e),Lt(e),kt(e),Tt(e)}(xt),Object.defineProperty(xt.prototype,"$isServer",{get:Ri}),Object.defineProperty(xt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),xt.version="2.4.4";var wr,Cr,xr=p("style,class"),Sr=p("input,textarea,option,select,progress"),Lr=function(e,t,n){return"value"===n&&Sr(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},kr=p("contenteditable,draggable,spellcheck"),Ar=p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Or="http://www.w3.org/1999/xlink",Tr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Mr=function(e){return Tr(e)?e.slice(6,e.length):""},Pr=function(e){return null==e||!1===e},Er={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ir=p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),$r=p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Dr=function(e){return Ir(e)||$r(e)},Rr=Object.create(null),jr=p("text,number,password,search,email,tel,url"),Nr=Object.freeze({createElement:Vt,createElementNS:Gt,createTextNode:Ht,createComment:Zt,insertBefore:Wt,removeChild:Jt,appendChild:Kt,parentNode:Xt,nextSibling:Qt,tagName:Yt,setTextContent:en,setAttribute:tn}),qr={create:function(e,t){nn(t)},update:function(e,t){e.data.ref!==t.data.ref&&(nn(e,!0),nn(t))},destroy:function(e){nn(e,!0)}},zr=new Ki("",{},[]),Fr=["create","activate","update","remove","destroy"],Br={create:sn,update:sn,destroy:function(e){sn(e,zr)}},Ur=Object.create(null),Vr=[qr,Br],Gr={create:fn,update:fn},Hr={create:hn,update:hn},Zr="__r",Wr="__c",Jr={create:_n,update:_n},Kr={create:yn,update:yn},Xr=v(function(e){var t={},n=/;(?![^(]*\))/g,i=/:(.+)/;return e.split(n).forEach(function(e){if(e){var n=e.split(i);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}),Qr=/^--/,Yr=/\s*!important$/,eo=function(e,t,n){if(Qr.test(t))e.style.setProperty(t,n);else if(Yr.test(n))e.style.setProperty(t,n.replace(Yr,""),"important");else{var i=no(t);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)e.style[i]=n[r];else e.style[i]=n}},to=["Webkit","Moz","ms"],no=v(function(e){if(Cr=Cr||document.createElement("div").style,"filter"!==(e=ui(e))&&e in Cr)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<to.length;n++){var i=to[n]+t;if(i in Cr)return i}}),io={create:kn,update:kn},ro=v(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),oo=xi&&!ki,ao="transition",so="animation",lo="transition",uo="transitionend",co="animation",fo="animationend";oo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(lo="WebkitTransition",uo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(co="WebkitAnimation",fo="webkitAnimationEnd"));var po=xi&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,ho=/\b(transform|all)(,|$)/,mo=xi?{create:Fn,activate:Fn,remove:function(e,t){!0!==e.data.show?Nn(e,t):t()}}:{},vo=[Gr,Hr,Jr,Kr,io,mo],go=vo.concat(Vr),_o=function(e){function t(e){return new Ki(P.tagName(e).toLowerCase(),{},[],void 0,e)}function o(e,t){function n(){0==--n.listeners&&s(e)}return n.listeners=t,n}function s(e){var t=P.parentNode(e);i(t)&&P.removeChild(t,e)}function l(e,t,n,o,a){if(e.isRootInsert=!a,!u(e,t,n,o)){var s=e.data,l=e.children,c=e.tag;i(c)?(e.elm=e.ns?P.createElementNS(e.ns,c):P.createElement(c,e),g(e),h(e,l,t),i(s)&&v(e,t),f(n,e.elm,o)):r(e.isComment)?(e.elm=P.createComment(e.text),f(n,e.elm,o)):(e.elm=P.createTextNode(e.text),f(n,e.elm,o))}}function u(e,t,n,o){var a=e.data;if(i(a)){var s=i(e.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(e,!1,n,o),i(e.componentInstance))return c(e,t),r(s)&&d(e,t,n,o),!0}}function c(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,m(e)?(v(e,t),g(e)):(nn(e),t.push(e))}function d(e,t,n,r){for(var o,a=e;a.componentInstance;)if(a=a.componentInstance._vnode,i(o=a.data)&&i(o=o.transition)){for(o=0;o<T.activate.length;++o)T.activate[o](zr,a);t.push(a);break}f(n,e.elm,r)}function f(e,t,n){i(e)&&(i(n)?n.parentNode===e&&P.insertBefore(e,t,n):P.appendChild(e,t))}function h(e,t,n){if(Array.isArray(t))for(var i=0;i<t.length;++i)l(t[i],n,e.elm,null,!0);else a(e.text)&&P.appendChild(e.elm,P.createTextNode(e.text))}function m(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return i(e.tag)}function v(e,t){for(var n=0;n<T.create.length;++n)T.create[n](zr,e);A=e.data.hook,i(A)&&(i(A.create)&&A.create(zr,e),i(A.insert)&&t.push(e))}function g(e){for(var t,n=e;n;)i(t=n.context)&&i(t=t.$options._scopeId)&&P.setAttribute(e.elm,t,""),n=n.parent;i(t=tr)&&t!==e.context&&i(t=t.$options._scopeId)&&P.setAttribute(e.elm,t,"")}function _(e,t,n,i,r,o){for(;i<=r;++i)l(n[i],o,e,t)}function y(e){var t,n,r=e.data;if(i(r))for(i(t=r.hook)&&i(t=t.destroy)&&t(e),t=0;t<T.destroy.length;++t)T.destroy[t](e);if(i(t=e.children))for(n=0;n<e.children.length;++n)y(e.children[n])}function b(e,t,n,r){for(;n<=r;++n){var o=t[n];i(o)&&(i(o.tag)?(w(o),y(o)):s(o.elm))}}function w(e,t){if(i(t)||i(e.data)){var n,r=T.remove.length+1;for(i(t)?t.listeners+=r:t=o(e.elm,r),i(n=e.componentInstance)&&i(n=n._vnode)&&i(n.data)&&w(n,t),n=0;n<T.remove.length;++n)T.remove[n](e,t);i(n=e.data.hook)&&i(n=n.remove)?n(e,t):t()}else s(e.elm)}function C(e,t,r,o,a){for(var s,u,c,d,f=0,p=0,h=t.length-1,m=t[0],v=t[h],g=r.length-1,y=r[0],w=r[g],C=!a;f<=h&&p<=g;)n(m)?m=t[++f]:n(v)?v=t[--h]:rn(m,y)?(S(m,y,o),m=t[++f],y=r[++p]):rn(v,w)?(S(v,w,o),v=t[--h],w=r[--g]):rn(m,w)?(S(m,w,o),C&&P.insertBefore(e,m.elm,P.nextSibling(v.elm)),m=t[++f],w=r[--g]):rn(v,y)?(S(v,y,o),C&&P.insertBefore(e,v.elm,m.elm),v=t[--h],y=r[++p]):(n(s)&&(s=an(t,f,h)),u=i(y.key)?s[y.key]:x(y,t,f,h),n(u)?l(y,o,e,m.elm):(c=t[u],rn(c,y)?(S(c,y,o),t[u]=void 0,C&&P.insertBefore(e,c.elm,m.elm)):l(y,o,e,m.elm)),y=r[++p]);f>h?(d=n(r[g+1])?null:r[g+1].elm,_(e,d,r,p,g,o)):p>g&&b(e,t,f,h)}function x(e,t,n,r){for(var o=n;o<r;o++){var a=t[o];if(i(a)&&rn(e,a))return o}}function S(e,t,o,a){if(e!==t){var s=t.elm=e.elm;if(r(e.isAsyncPlaceholder))return void(i(t.asyncFactory.resolved)?k(e.elm,t,o):t.isAsyncPlaceholder=!0);if(r(t.isStatic)&&r(e.isStatic)&&t.key===e.key&&(r(t.isCloned)||r(t.isOnce)))return void(t.componentInstance=e.componentInstance);var l,u=t.data;i(u)&&i(l=u.hook)&&i(l=l.prepatch)&&l(e,t);var c=e.children,d=t.children;if(i(u)&&m(t)){for(l=0;l<T.update.length;++l)T.update[l](e,t);i(l=u.hook)&&i(l=l.update)&&l(e,t)}n(t.text)?i(c)&&i(d)?c!==d&&C(s,c,d,o,a):i(d)?(i(e.text)&&P.setTextContent(s,""),_(s,null,d,0,d.length-1,o)):i(c)?b(s,c,0,c.length-1):i(e.text)&&P.setTextContent(s,""):e.text!==t.text&&P.setTextContent(s,t.text),i(u)&&i(l=u.hook)&&i(l=l.postpatch)&&l(e,t)}}function L(e,t,n){if(r(n)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var o=0;o<t.length;++o)t[o].data.hook.insert(t[o])}function k(e,t,n){if(r(t.isComment)&&i(t.asyncFactory))return t.elm=e,t.isAsyncPlaceholder=!0,!0;t.elm=e;var o=t.tag,a=t.data,s=t.children;if(i(a)&&(i(A=a.hook)&&i(A=A.init)&&A(t,!0),i(A=t.componentInstance)))return c(t,n),!0;if(i(o)){if(i(s))if(e.hasChildNodes())if(i(A=a)&&i(A=A.domProps)&&i(A=A.innerHTML)){if(A!==e.innerHTML)return!1}else{for(var l=!0,u=e.firstChild,d=0;d<s.length;d++){if(!u||!k(u,s[d],n)){l=!1;break}u=u.nextSibling}if(!l||u)return!1}else h(t,s,n);if(i(a))for(var f in a)if(!E(f)){v(t,n);break}}else e.data!==t.text&&(e.data=t.text);return!0}var A,O,T={},M=e.modules,P=e.nodeOps;for(A=0;A<Fr.length;++A)for(T[Fr[A]]=[],O=0;O<M.length;++O)i(M[O][Fr[A]])&&T[Fr[A]].push(M[O][Fr[A]]);var E=p("attrs,style,class,staticClass,staticStyle,key");return function(e,o,a,s,u,c){if(n(o))return void(i(e)&&y(e));var d=!1,f=[];if(n(e))d=!0,l(o,f,u,c);else{var p=i(e.nodeType);if(!p&&rn(e,o))S(e,o,f,s);else{if(p){if(1===e.nodeType&&e.hasAttribute(mi)&&(e.removeAttribute(mi),a=!0),r(a)&&k(e,o,f))return L(o,f,!0),e;e=t(e)}var h=e.elm,v=P.parentNode(h);if(l(o,f,h._leaveCb?null:v,P.nextSibling(h)),i(o.parent))for(var g=o.parent,_=m(o);g;){for(var w=0;w<T.destroy.length;++w)T.destroy[w](g);if(g.elm=o.elm,_){for(var C=0;C<T.create.length;++C)T.create[C](zr,g);var x=g.data.hook.insert;if(x.merged)for(var A=1;A<x.fns.length;A++)x.fns[A]()}g=g.parent}i(v)?b(v,[e],0,0):i(e.tag)&&y(e)}}return L(o,f,d),o.elm}}({nodeOps:Nr,modules:go});ki&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Wn(e,"input")});var yo={inserted:function(e,t,n){"select"===n.tag?(Bn(e,t,n.context),e._vOptions=[].map.call(e.options,Gn)):("textarea"===n.tag||jr(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("change",Zn),Oi||(e.addEventListener("compositionstart",Hn),e.addEventListener("compositionend",Zn)),ki&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Bn(e,t,n.context);var i=e._vOptions,r=e._vOptions=[].map.call(e.options,Gn);if(r.some(function(e,t){return!C(e,i[t])})){(e.multiple?t.value.some(function(e){return Vn(e,r)}):t.value!==t.oldValue&&Vn(t.value,r))&&Wn(e,"change")}}}},bo={bind:function(e,t,n){var i=t.value;n=Jn(n);var r=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r?(n.data.show=!0,jn(n,function(){e.style.display=o})):e.style.display=i?o:"none"},update:function(e,t,n){var i=t.value;i!==t.oldValue&&(n=Jn(n),n.data&&n.data.transition?(n.data.show=!0,i?jn(n,function(){e.style.display=e.__vOriginalDisplay}):Nn(n,function(){e.style.display="none"})):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}},wo={model:yo,show:bo},Co={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},xo={name:"transition",props:Co,abstract:!0,render:function(e){var t=this,n=this.$options._renderChildren;if(n&&(n=n.filter(function(e){return e.tag||he(e)}),n.length)){var i=this.mode,r=n[0];if(Yn(this.$vnode))return r;var o=Kn(r);if(!o)return r;if(this._leaving)return Qn(e,r);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var l=(o.data||(o.data={})).transition=Xn(this),u=this._vnode,c=Kn(u);if(o.data.directives&&o.data.directives.some(function(e){return"show"===e.name})&&(o.data.show=!0),c&&c.data&&!ei(o,c)&&!he(c)){var d=c&&(c.data.transition=y({},l));if("out-in"===i)return this._leaving=!0,re(d,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Qn(e,r);if("in-out"===i){if(he(o))return u;var f,p=function(){f()};re(l,"afterEnter",p),re(l,"enterCancelled",p),re(d,"delayLeave",function(e){f=e})}}return r}}},So=y({tag:String,moveClass:String},Co);delete So.mode;var Lo={props:So,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],a=Xn(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(i){for(var u=[],c=[],d=0;d<i.length;d++){var f=i[d];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?u.push(f):c.push(f)}this.kept=e(t,null,u),this.removed=c}return e(t,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";if(e.length&&this.hasMove(e[0].elm,t)){e.forEach(ti),e.forEach(ni),e.forEach(ii);var n=document.body;n.offsetHeight;e.forEach(function(e){if(e.data.moved){var n=e.elm,i=n.style;Pn(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(uo,n._moveCb=function e(i){i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(uo,e),n._moveCb=null,En(n,t))})}})}},methods:{hasMove:function(e,t){if(!oo)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){On(n,e)}),An(n,t),n.style.display="none",this.$el.appendChild(n);var i=$n(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}},ko={Transition:xo,TransitionGroup:Lo};xt.config.mustUseProp=Lr,xt.config.isReservedTag=Dr,xt.config.isReservedAttr=xr,xt.config.getTagNamespace=Ft,xt.config.isUnknownElement=Bt,y(xt.options.directives,wo),y(xt.options.components,ko),xt.prototype.__patch__=xi?_o:w,xt.prototype.$mount=function(e,t){return e=e&&xi?Ut(e):void 0,Se(this,e,t)},setTimeout(function(){_i.devtools&&ji&&ji.emit("init",xt)},0),t.default=xt}).call(t,n(6))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;var r=n(2),o=i(r),a=n(26),s=i(a),l=n(1);n(4);o.default.use(s.default);t.store=new s.default.Store({state:{language:{selected:"de",terms:{}},topic:{list:[],data:{},selected:[],available:[]},institution:{list:[],data:{},selected:[],available:[]},canton:{list:[],data:{},selected:[],available:[]},head:{list:[],data:{},selected:[],available:[]},group:{list:[],data:{},selected:[]},bounds:{ne:[47.933243004813725,10.575639903386495],sw:[45.639066961601685,5.883893951813307]}},mutations:{setLanguage:function(e,t){o.default.set(e.language,"selected",t.data)},setLanguageTerms:function(e,t){o.default.set(e.language,"terms",t.data)},setBounds:function(e,t){o.default.set(e,"bounds",t)},setData:function(e,t){for(var n in t.data){var i=t.data[n];o.default.set(e[t.list].data,i.id,i),e[t.list].list.push(i.id)}},setSelected:function(e,t){(0,l.setHashParams)(t.list,t.data),o.default.set(e[t.list],"selected",t.data)}},getters:{term:function(e){var t=e.language;return function(e,n){var i=t.terms[e];return i||e}},topics:function(e){return e.topic.available.map(function(t){var n=e.topic.data[t];return n.name=n[e.language.selected],n})},institutions:function(e){var t=e.institution;return t.available.map(function(e){return t.data[e]})},cantons:function(e){var t=e.canton;return t.available.map(function(e){return t.data[e]})},heads:function(e){var t=e.head;return t.available.map(function(e){return t.data[e]})},groupById:function(e,t){return function(t){var n=e.group.data[t];return n.canton=e.canton.data[n.cantonId].name,n.institution=e.institution.data[n.institutionId].name,n.topics=n.topicIds.map(function(t){return e.topic.data[t]}),n.heads=n.headIds.map(function(t){return e.head.data[t]}),n}},allGroups:function(e,t){e.language.terms;return e.group.list.map(function(e){return t.groupById(e)})},groups:function(e,t){var n=t.allGroups,i=e.canton.selected,r=e.institution.selected,a=e.head.selected,s=e.topic.selected,u=[],c={},d=[],f={},p=[],h={},m=[],v={},g=[];return 0===i.length&&0===r.length&&0===a.length&&0===s.length?(u=n,d=e.canton.list,p=e.institution.list,m=e.head.list,g=e.topic.list):n.forEach(function(e){var t=0===i.length||-1!=i.indexOf(e.cantonId),n=0===r.length||-1!=r.indexOf(e.institutionId),o=0===a.length||(0,l.intersect)(a,e.headIds).length>0,_=0===s.length||(0,l.intersect)(s,e.topicIds).length>=s.length;t&&n&&o&&_&&(u.push(e),e.topicIds.forEach(function(e){v[e]||(v[e]=!0,g.push(e))})),n&&o&&_&&(c[e.cantonId]||(c[e.cantonId]=!0,d.push(e.cantonId))),t&&o&&_&&(f[e.institutionId]||(f[e.institutionId]=!0,p.push(e.institutionId))),t&&n&&_&&e.headIds.forEach(function(e){h[e]||(h[e]=!0,m.push(e))})}),o.default.set(e.institution,"available",p),o.default.set(e.canton,"available",d),o.default.set(e.head,"available",m),o.default.set(e.topic,"available",g),u},groupsAvailable:function(e,t){var n=t.groups,i=e.bounds;return n=n.filter(function(e){return e.coords.lat<=i.ne[0]&&e.coords.lat>=i.sw[0]&&e.coords.lng<=i.ne[1]&&e.coords.lng>=i.sw[1]})}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventHub=void 0;var i=n(2),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=new r.default;t.eventHub=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(2),o=i(r),a=n(7),s=i(a),l=n(3),u=n(4);n(27),n(29),n(30),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),o.default.mixin({data:function(){return{eventHub:u.eventHub}}}),new o.default({el:"#app",store:l.store,render:function(e){return e(s.default)}})},function(e,t,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}e.exports=i},function(e,t,n){"use strict";function i(e){n(8)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=n.n(r),a=n(25),s=n(0),l=i,u=s(o.a,a.a,l,null,null);t.default=u.exports},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=i(r),a=n(14),s=i(a),l=n(18),u=i(l);t.default={name:"app",data:function(){return{extended:!0}},computed:{forceExtended:function(){return this.$store.state.canton.selected.length>0||this.$store.state.head.selected.length>0}},methods:{toggleExtendedFilter:function(e){e.preventDefault(),this.extended=!this.extended}},components:{GroupFilter:o.default,GroupMap:s.default,GroupList:u.default},mounted:function(){var e=this,t=document.domain.match(/[a-z0-9\-]*.[a-z0-9\-]+$/i)[0];document.domain=t;var n=window.frameElement;n&&$(window).on("resize",function(){var e=$("#app").height();$(window.frameElement).height(e+150)}),$(window).one("mousemove",function(t){setTimeout(function(){e.extended=!1},500)}),this.eventHub.$on("goToMap",function(){var e=n?window.parent.document:document,t=n?$(n).offset().top:0;$(e).scrollTop(t)})},destroyed:function(){$(window).off("resize"),this.eventHub.$off("goToMap")},updated:function(){$(window).trigger("resize")}}},function(e,t,n){"use strict";function i(e){n(11)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n.n(r),a=n(13),s=n(0),l=i,u=s(o.a,a.a,l,null,null);t.default=u.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.default={name:"group-filter",props:["data","label","icon"],data:function(){return{active:!1,query:"",amountToShow:10}},methods:{addSelected:function(e){var t=this.selected.map(function(e){return e});t.push(e),this.selected=t,this.query=""},removeSelected:function(e){var t=this.selected.map(function(e){return e}),n=t.indexOf(e);t.splice(n,1),this.selected=t},setActive:function(e){this.active=!0,this.$refs.input.focus()},setInactive:function(e){var t=e.relatedTarget||e.explicitOriginalTarget||document.activeElement;t&&this.$refs.dropdown.contains(t)||(this.active=!1,this.$refs.menu.scrollTop=0,this.amountToShow=10,this.query="")}},computed:{title:function(){return this.$store.getters.term(this.label)},isLoading:function(){return this.$store.state[this.label].list<1},options:function(){var e=this,t=this.amountToShow;return this.data.sort((0,i.sortLocale)("name")).filter(function(t){return-1===e.$store.state[e.label].selected.indexOf(t.id)&&-1!==t.name.toLowerCase().indexOf(e.query)}).slice(0,t)},selected:{get:function(){return this.$store.state[this.label].selected},set:function(e){this.$store.commit("setSelected",{list:this.label,data:e})}},selectedWidthInfo:function(){var e=this;return this.selected.map(function(t){return e.$store.state[e.label].data[t]})}},watch:{query:function(e){var t=this.$refs.sizer,n=this.$refs.input;t.style.display="inline-block",n.style.width=t.clientWidth+"px",t.style.display="none"}},mounted:function(){var e=this;this.$refs.menu.addEventListener("scroll",function(t){t.target.clientHeight+t.target.scrollTop+50>t.target.scrollHeight&&(e.amountToShow+=10)})},destroyed:function(){},updated:function(){$(window).trigger("resize")}}},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"eight wide field"},[n("label",[n("i",{class:[e.icon,"icon"]}),e._v(" "),n("span",[e._v(e._s(e.title))])]),e._v(" "),n("div",{ref:"dropdown",class:[e.isLoading?"loading":"",e.active?"active visible":"","ui fluid multiple search selection dropdown"],attrs:{tabindex:"-1"},on:{click:function(t){e.setActive()}}},[n("i",{staticClass:"dropdown icon"}),e._v(" "),e._l(e.selectedWidthInfo,function(t){return n("a",{key:"sel."+e.label+"."+t.id,staticClass:"ui label large transition visible",attrs:{"data-value":t.id}},[e._v("\n      "+e._s(t.name)),n("i",{staticClass:"delete icon",on:{click:function(n){e.removeSelected(t.id)}}})])}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",staticClass:"search",attrs:{autocomplete:"off",tabindex:"0"},domProps:{value:e.query},on:{blur:function(t){e.setInactive(t)},input:function(t){t.target.composing||(e.query=t.target.value)}}}),e._v(" "),n("span",{ref:"sizer",staticClass:"sizer"},[e._v(e._s(e.query))]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],ref:"menu",staticClass:"menu active visible"},[e.active?[e._l(e.options,function(t){return n("div",{key:"opt."+e.label+"."+t.id,class:[t.main?"bold":"","item"],attrs:{"data-value":t.id},on:{click:function(n){e.addSelected(t.id)}}},[e._v("\n          "+e._s(t.name)+"\n        ")])}),e._v(" "),e.options.length<1?n("div",{staticClass:"message"},[e._v("No results found.")]):e._e()]:e._e()],2)],2)])},r=[],o={render:i,staticRenderFns:r};t.a=o},function(e,t,n){"use strict";function i(e){n(15)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),o=n.n(r),a=n(17),s=n(0),l=i,u=s(o.a,a.a,l,null,null);t.default=u.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"group-map",data:function(){return{icon:null,map:null,clusterGroup:null,popup:null,markers:[],maxBounds:[[47.808142,10.48964],[45.817915,5.956769]],watcher:null}},methods:{refresh:function(){var e=this,t=this.map.getMinZoom();this.map.setMinZoom(Math.floor(t)),this.clusterGroup.clearLayers();var n=[];this.$store.getters.groups.forEach(function(t){if(e.markers[t.id])n.push(e.markers[t.id]);else{var i=L.marker(new L.LatLng(t.coords.lat,t.coords.lng),{icon:e.icon});i.data=t,i.bindPopup(e.popup),e.markers[t.id]=i,n.push(i)}}),this.clusterGroup.addLayers(n),this.map.setMinZoom(t)},initMap:function(){var e=this;this.map=new L.Map(this.$refs.map,{zoomSnap:.5});var t=new L.tileLayer("https://wmts10.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",{attribution:'<a href="https://www.swisstopo.admin.ch/de/home.html" target="_blank"> swisstopo</a>'});this.map.addLayer(t),this.map.fitBounds(this.maxBounds),this.map.setMaxBounds(this.maxBounds),this.map.setMinZoom(this.map.getZoom()),this.map.on("moveend",function(){var t=e.map.getBounds();e.$store.commit("setBounds",{ne:[t._northEast.lat,t._northEast.lng],sw:[t._southWest.lat,t._southWest.lng]})}),this.map.on("popupopen",function(){e.map.setMaxBounds(null)}),this.map.on("popupclose",function(){e.map.setMaxBounds(e.maxBounds)});var n=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},i=n("filter");i.setAttribute("id","blur-filter"),i.setAttribute("height","500"),i.setAttribute("width","500"),i.setAttribute("x","-250"),i.setAttribute("y","-250");var r=n("feGaussianBlur");r.setAttribute("in","SourceGraphic"),r.setAttribute("stdDeviation","12");var o=n("feComponentTransfer"),a=n("feFuncA");a.setAttribute("type","table"),a.setAttribute("tableValues","0 0.8 0.8 0.8 0.8 0.8 0.8 0.8 0.8 0.8 0.8");var s=n("feGaussianBlur");s.setAttribute("stdDeviation","10"),o.appendChild(a),i.appendChild(r),i.appendChild(o),i.appendChild(s),this.map.on("layeradd",function(e){if("map-cluster-bounds"==e.layer.options.className){var t=e.layer._renderer._container;t.querySelector("#blur-filter")||t.appendChild(i),t.querySelector(".map-cluster-bounds").setAttribute("filter","url(#blur-filter)")}})},initIcon:function(){this.icon=L.divIcon({className:"map-marker",iconAnchor:[30,60],iconSize:[60,60],popupAnchor:[0,-60],html:'<svg class="icon" viewBox="0 0 30 30" width="30" height="30" xmlns="http://www.w3.org/2000/svg">\n                <defs>\n                  <filter id="shadow-filter" x="-15" y="-15" width="30" height="30">\n                    <feOffset in="SourceAlpha" dx="1" dy="2" />\n                    <feGaussianBlur stdDeviation="2" />\n                    <feComponentTransfer>\n                      <feFuncA type="linear" slope="0.7"/>\n                    </feComponentTransfer>\n                    <feMerge>\n                      <feMergeNode/>\n                      <feMergeNode in="SourceGraphic"/>\n                    </feMerge>\n                  </filter>\n                </defs>\n                <g filter="url(#shadow-filter)">\n                  <circle fill="#06284B" fill-opacity="0.6" class="st0" cx="15" cy="12" r="3"/>\n                  <path fill="currentColor" d="M15,5c-3.9,0-7,3.1-7,7c0,5.3,7,13,7,13s7-7.8,7-13C22,8.1,18.9,5,15,5z M15,14.5c-1.4,0-2.5-1.1-2.5-2.5s1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5S16.4,14.5,15,14.5z"/>\n                </g>\n              </svg>'})},initPopup:function(){var e=this;this.popup=L.popup({autoClose:!1,minWidth:440,autoPanPadding:L.point(50,50)}).setContent(function(){var t=this._source.data.id,n=e.$store.getters.groupById(t),i=(e.$store.getters.term,n.topics.sort(function(e,t){return e.id==n.mainTopicId?-1:1}).map(function(e){return n.mainTopicId==e.id?"<strong>"+e.name+"</strong>":e.name}).join(", ")),r=n.heads.map(function(e){return e.name}).join(", ");return'\n          <div class="ui segment basic vertical">\n            <h4 class="ui header">\n              <a target="_blank" href="'+n.website+'">'+n.name+' <sup><i class="icon external"></i></sup></a>\n              <div class="sub header">'+r+'</div>\n            </h4>\n            <div class="content">\n              <p><strong>'+n.institution+'</strong></p>\n              <p class="ui divider"></p>\n              <p class="keywords">'+i+"</p>\n            </div>\n          </div>\n        "})},initCluster:function(){this.clusterGroup=L.markerClusterGroup({iconCreateFunction:function(e){var t=e.getChildCount(),n=t<25?"small":t>100?"large":"regular",i=t<25?40:t>100?50:45;return L.divIcon({className:"map-cluster "+n,html:"<span>"+t+"</span>",iconSize:L.point(i,i)})},maxClusterRadius:75,spiderfyDistanceMultiplier:1.5,spiderLegPolylineOptions:{opacity:0},polygonOptions:{className:"map-cluster-bounds"}}),this.map.addLayer(this.clusterGroup)},locate:function(e){var t=this.markers[e];this.eventHub.$emit("goToMap",{}),this.map.closePopup(),this.clusterGroup.zoomToShowLayer(t,function(){t.openPopup()})},zoomToBounds:function(){var e=this.$store.getters.groups,t=e.length;if(t>0&&t!=this.$store.state.group.list.length){var n=e.map(function(e){return e.coords.lat}).sort(function(e,t){return""==e?0:e>t?-1:e<t?1:0}),i=e.map(function(e){return e.coords.lng}).sort(function(e,t){return""==e?0:e>t?-1:e<t?1:0});this.map.fitBounds([[n[0],i[0]],[n[n.length-1],i[i.length-1]]],{maxZoom:12,padding:[20,20]})}else this.map.fitBounds(this.maxBounds)}},mounted:function(){var e=this;this.initMap(),this.initIcon(),this.initPopup(),this.initCluster(),this.eventHub.$on("map-locate",function(t){e.locate(t)}),this.refresh(),this.watcher=this.$store.watch(function(e,t){return t.groups},function(t){e.refresh(),e.zoomToBounds()})},destroyed:function(){this.watcher(),this.eventHub.$off("map-refresh"),this.eventHub.$off("locate")},updated:function(){$(window).trigger("resize")}}},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-container"},[n("div",{ref:"map",staticClass:"map"})])},r=[],o={render:i,staticRenderFns:r};t.a=o},function(e,t,n){"use strict";function i(e){n(19)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),o=n.n(r),a=n(24),s=n(0),l=i,u=s(o.a,a.a,l,null,null);t.default=u.exports},function(e,t){},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(1);t.default={name:"group-list",components:{GroupListItem:o.default},props:[],data:function(){return{sort:"group",sort_options:{group:"name",institution:"institution",head:{type:"array",key:["heads",0,"name"]}},amountToShow:10,watcher:null,watcher2:null}},computed:{isLoading:function(){return 0==this.$store.state.group.list.length},numGroups:function(){return this.groups.length},groups:function(){var e=this.$store.getters.groupsAvailable,t=this.sort_options[this.sort];return e=e.sort((0,a.sortLocale)(t)),e},groupsShow:function(){return this.groups.slice(0,this.amountToShow)}},methods:{term:function(e){return this.$store.getters.term(e)},sortBy:function(e){this.sort=e},showMore:function(){this.amountToShow+=10},refreshFilter:function(){var e=this,t=[];for(var n in this.sort_options){var i=(this.sort_options[n],{});i.name=this.term(n),i.value=n,n==this.sort&&(i.selected=!0),t.push(i)}$(this.$refs.filter).dropdown({values:t,onChange:function(t){e.sort=t}})},exportData:function(){for(var e=this.groups.length,t=[],n=0;n<e;n++){var r,o=this.groups[n],s=(r={},i(r,this.term("research_group"),o.name),i(r,this.term("head"),o.heads.map(function(e){return e.name}).join(", ")),i(r,this.term("institution"),o.institution),i(r,this.term("departement"),o.departement),i(r,this.term("institute"),o.institute),i(r,this.term("canton"),o.canton),i(r,this.term("website"),o.website),i(r,this.term("topic"),o.topics.map(function(e){return e.name}).join(", ")),r);t.push(s)}var l=$.csv.fromObjects(t,{separator:";"}),u=new Blob(["\ufeff"+l+"\r\n"+this.term("source_message")],{type:"text/csv;charset=ANSI"});(0,a.saveAs)(u,this.term("export_name")+".csv")}},mounted:function(){var e=this;this.refreshFilter(),this.watcher=this.$store.watch(function(e,t){return e.language.terms},function(t){e.refreshFilter()}),this.watcher2=this.$store.watch(function(e,t){return t.groupsAvailable},function(t){e.amountToShow=10})},destroyed:function(){this.watcher(),this.watcher2()},updated:function(){$(window).trigger("resize")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(22),r=n.n(i),o=n(23),a=n(0),s=a(r.a,o.a,null,null,null);t.default=s.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"group-list-item",props:["group"],data:function(){return{}},computed:{topics:function(){var e=this;this.$store.state.language.terms;return this.group.topics.sort(function(t,n){return t.id==e.group.mainTopicId?-1:1})}},methods:{locate:function(e){this.eventHub.$emit("map-locate",e)}}}},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui vertical segment"},[n("button",{staticClass:"ui right floated icon mini primary button",on:{click:function(t){e.locate(e.group.id)}}},[n("i",{staticClass:"icon marker"})]),e._v(" "),n("h4",{staticClass:"ui header"},[n("a",{attrs:{target:"_blank",href:e.group.website}},[e._v(e._s(e.group.name)+" "),e._m(0)]),e._v(" "),n("div",{staticClass:"sub header"},[e._v("\n      "+e._s(e.group.heads.map(function(e){return e.name}).join(", "))+"\n    ")])]),e._v(" "),n("div",{staticClass:"description"},[n("p",[n("span",[n("strong",[e._v(e._s(e.group.institution))])]),n("br"),e._v(" "),e.group.institution!=e.group.departement?n("span",[e._v(e._s(e.group.departement)+" "),n("br")]):e._e(),e._v(" "),e.group.institution!=e.group.institute&&e.group.departement!==e.group.institute?n("span",[e._v(e._s(e.group.institute)),n("br")]):e._e()]),e._v(" "),n("div",{staticClass:"ui labels"},e._l(e.topics,function(t){return n("div",{key:t.id,class:[t.id==e.group.mainTopicId?"black":"basic","ui mini label"]},[e._v("\n        "+e._s(t.name)+"\n      ")])}))])])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sup",[n("i",{staticClass:"icon external"})])}],o={render:i,staticRenderFns:r};t.a=o},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-container"},[n("div",{staticClass:"ui segment basic vertical right aligned"},[n("button",{staticClass:"ui icon left floated mini compact labeled button small-padding",on:{click:e.exportData}},[n("i",{staticClass:"icon download"}),e._v(e._s(e.term("export"))+" (CSV)\n    ")]),e._v(" "),n("div",{staticClass:"ui label"},[n("i",{staticClass:"icon users"}),e._v(" "+e._s(e.numGroups)+"\n    ")])]),e._v(" "),n("div",{staticClass:"ui vertical segment clearing right aligned small-padding"},[n("span",[e._v(e._s(e.term("sort_by"))+" ")]),e._v(" "),n("div",{ref:"filter",staticClass:"ui inline dropdown"},[n("div",{staticClass:"text"}),e._v(" "),n("div",{staticClass:"menu"}),e._v(" "),n("i",{staticClass:"dropdown icon"})])]),e._v(" "),e._l(e.groupsShow,function(e){return n("group-list-item",{key:e.id,attrs:{group:e}})}),e._v(" "),e.isLoading?n("div",{staticClass:"ui vertical segment basic"},[n("div",{staticClass:"ui active centered inline loader small"})]):e._e(),e._v(" "),0!=e.numGroups||e.isLoading?e._e():n("div",{staticClass:"ui vertical center aligned segment basic very padded"},[n("div",{staticClass:"ui compact message"},[e._v(e._s(e.term("no_results")))])]),e._v(" "),e.numGroups>e.groupsShow.length?n("div",{staticClass:"ui vertical center aligned segment basic very padded"},[n("button",{staticClass:"ui button primary icon centered",on:{click:function(t){e.showMore()}}},[e._v(e._s(e.term("show_more")))])]):e._e()],2)},r=[],o={render:i,staticRenderFns:r};t.a=o},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"filter-container"},[n("form",{staticClass:"ui form"},[n("div",{staticClass:"fields"},[n("div",{staticClass:"fifteen wide field"},[n("div",{staticClass:"two fields"},[n("group-filter",{attrs:{data:this.$store.getters.topics,label:"topic",icon:"tags"}}),e._v(" "),n("group-filter",{attrs:{data:this.$store.getters.institutions,label:"institution",icon:"home"}})],1),e._v(" "),n("transition",{attrs:{name:"slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.extended||e.forceExtended,expression:"extended || forceExtended"}],staticClass:"two fields"},[n("group-filter",{attrs:{data:this.$store.getters.cantons,label:"canton",icon:"marker"}}),e._v(" "),n("group-filter",{attrs:{data:this.$store.getters.heads,label:"head",icon:"user"}})],1)])],1),e._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label-without-content"}),e._v(" "),n("button",{class:[e.extended?"basic black":"basic","ui fluid button icon"],on:{click:e.toggleExtendedFilter}},[n("i",{class:[e.extended?"close":"options","icon"]})])])])])]),e._v(" "),n("group-map"),e._v(" "),n("group-list")],1)},r=[],o={render:i,staticRenderFns:r};t.a=o},function(e,t,n){"use strict";function i(e){L&&(e._devtoolHook=L,L.emit("vuex:init",e),L.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(e,t){L.emit("vuex:mutation",e,t)}))}function r(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function o(e){return null!==e&&"object"===(void 0===e?"undefined":x(e))}function a(e){return e&&"function"==typeof e.then}function s(e,t,n){if(t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return;s(e.concat(i),t.getChild(i),n.modules[i])}}function l(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;c(e,n,[],e._modules.root,!0),u(e,n,t)}function u(e,t,n){var i=e._vm;e.getters={};var o=e._wrappedGetters,a={};r(o,function(t,n){a[n]=function(){return t(e)},Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})});var s=T.config.silent;T.config.silent=!0,e._vm=new T({data:{$$state:t},computed:a}),T.config.silent=s,e.strict&&v(e),i&&(n&&e._withCommit(function(){i._data.$$state=null}),T.nextTick(function(){return i.$destroy()}))}function c(e,t,n,i,r){var o=!n.length,a=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[a]=i),!o&&!r){var s=g(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){T.set(s,l,i.state)})}var u=i.context=d(e,a,n);i.forEachMutation(function(t,n){p(e,a+n,t,u)}),i.forEachAction(function(t,n){h(e,a+n,t,u)}),i.forEachGetter(function(t,n){m(e,a+n,t,u)}),i.forEachChild(function(i,o){c(e,t,n.concat(o),i,r)})}function d(e,t,n){var i=""===t,r={dispatch:i?e.dispatch:function(n,i,r){var o=_(n,i,r),a=o.payload,s=o.options,l=o.type;return s&&s.root||(l=t+l),e.dispatch(l,a)},commit:i?e.commit:function(n,i,r){var o=_(n,i,r),a=o.payload,s=o.options,l=o.type;s&&s.root||(l=t+l),e.commit(l,a,s)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return f(e,t)}},state:{get:function(){return g(e.state,n)}}}),r}function f(e,t){var n={},i=t.length;return Object.keys(e.getters).forEach(function(r){if(r.slice(0,i)===t){var o=r.slice(i);Object.defineProperty(n,o,{get:function(){return e.getters[r]},enumerable:!0})}}),n}function p(e,t,n,i){(e._mutations[t]||(e._mutations[t]=[])).push(function(t){n.call(e,i.state,t)})}function h(e,t,n,i){(e._actions[t]||(e._actions[t]=[])).push(function(t,r){var o=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},t,r);return a(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch(function(t){throw e._devtoolHook.emit("vuex:error",t),t}):o})}function m(e,t,n,i){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(i.state,i.getters,e.state,e.getters)})}function v(e){e._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function g(e,t){return t.length?t.reduce(function(e,t){return e[t]},e):e}function _(e,t,n){return o(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function y(e){T&&e===T||(T=e,S(T))}function b(e){return Array.isArray(e)?e.map(function(e){return{key:e,val:e}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}})}function w(e){return function(t,n){return"string"!=typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function C(e,t,n){return e._modulesNamespaceMap[n]}Object.defineProperty(t,"__esModule",{value:!0});var x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=function(e){function t(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:t});else{var n=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[t].concat(e.init):t,n.call(this,e)}}},L="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,k=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},A={namespaced:{configurable:!0}};A.namespaced.get=function(){return!!this._rawModule.namespaced},k.prototype.addChild=function(e,t){this._children[e]=t},k.prototype.removeChild=function(e){delete this._children[e]},k.prototype.getChild=function(e){return this._children[e]},k.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},k.prototype.forEachChild=function(e){r(this._children,e)},k.prototype.forEachGetter=function(e){this._rawModule.getters&&r(this._rawModule.getters,e)},k.prototype.forEachAction=function(e){this._rawModule.actions&&r(this._rawModule.actions,e)},k.prototype.forEachMutation=function(e){this._rawModule.mutations&&r(this._rawModule.mutations,e)},Object.defineProperties(k.prototype,A);var O=function(e){this.register([],e,!1)};O.prototype.get=function(e){return e.reduce(function(e,t){return e.getChild(t)},this.root)},O.prototype.getNamespace=function(e){var t=this.root;return e.reduce(function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")},"")},O.prototype.update=function(e){s([],this.root,e)},O.prototype.register=function(e,t,n){var i=this;void 0===n&&(n=!0);var o=new k(t,n);if(0===e.length)this.root=o;else{this.get(e.slice(0,-1)).addChild(e[e.length-1],o)}t.modules&&r(t.modules,function(t,r){i.register(e.concat(r),t,n)})},O.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];t.getChild(n).runtime&&t.removeChild(n)};var T,M=function(e){var t=this;void 0===e&&(e={}),!T&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var o=e.state;void 0===o&&(o={}),"function"==typeof o&&(o=o()),this._committing=!1,this._actions=Object.create(null),this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new O(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new T;var a=this,s=this,l=s.dispatch,d=s.commit;this.dispatch=function(e,t){return l.call(a,e,t)},this.commit=function(e,t,n){return d.call(a,e,t,n)},this.strict=r,c(this,o,[],this._modules.root),u(this,o),n.forEach(function(e){return e(t)}),T.config.devtools&&i(this)},P={state:{configurable:!0}};P.state.get=function(){return this._vm._data.$$state},P.state.set=function(e){},M.prototype.commit=function(e,t,n){var i=this,r=_(e,t,n),o=r.type,a=r.payload,s=(r.options,{type:o,payload:a}),l=this._mutations[o];l&&(this._withCommit(function(){l.forEach(function(e){e(a)})}),this._subscribers.forEach(function(e){return e(s,i.state)}))},M.prototype.dispatch=function(e,t){var n=_(e,t),i=n.type,r=n.payload,o=this._actions[i];if(o)return o.length>1?Promise.all(o.map(function(e){return e(r)})):o[0](r)},M.prototype.subscribe=function(e){var t=this._subscribers;return t.indexOf(e)<0&&t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}},M.prototype.watch=function(e,t,n){var i=this;return this._watcherVM.$watch(function(){return e(i.state,i.getters)},t,n)},M.prototype.replaceState=function(e){var t=this;this._withCommit(function(){t._vm._data.$$state=e})},M.prototype.registerModule=function(e,t){"string"==typeof e&&(e=[e]),this._modules.register(e,t),c(this,this.state,e,this._modules.get(e)),u(this,this.state)},M.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var n=g(t.state,e.slice(0,-1));T.delete(n,e[e.length-1])}),l(this)},M.prototype.hotUpdate=function(e){this._modules.update(e),l(this,!0)},M.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(M.prototype,P);var E=w(function(e,t){var n={};return b(t).forEach(function(t){var i=t.key,r=t.val;n[i]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var i=C(this.$store,"mapState",e);if(!i)return;t=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,t,n):t[r]},n[i].vuex=!0}),n}),I=w(function(e,t){var n={};return b(t).forEach(function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.commit;if(e){var o=C(this.$store,"mapMutations",e);if(!o)return;i=o.context.commit}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}}),n}),$=w(function(e,t){var n={};return b(t).forEach(function(t){var i=t.key,r=t.val;r=e+r,n[i]=function(){if(!e||C(this.$store,"mapGetters",e))return this.$store.getters[r]},n[i].vuex=!0}),n}),D=w(function(e,t){var n={};return b(t).forEach(function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.dispatch;if(e){var o=C(this.$store,"mapActions",e);if(!o)return;i=o.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}}),n}),R=function(e){return{mapState:E.bind(null,e),mapGetters:$.bind(null,e),mapMutations:I.bind(null,e),mapActions:D.bind(null,e)}},j={Store:M,install:y,version:"2.4.1",mapState:E,mapMutations:I,mapGetters:$,mapActions:D,createNamespacedHelpers:R};t.Store=M,t.install=y,t.mapState=E,t.mapMutations=I,t.mapGetters=$,t.mapActions=D,t.createNamespacedHelpers=R,t.default=j},function(e,t,n){"use strict";function i(){$.ajax({method:"GET",url:"./data/language."+o.store.state.language.selected+".json"}).done(function(e){o.store.commit("setLanguageTerms",{data:e})})}function r(){var e=(0,a.getHashParams)(),t=[],n=[],i=[],r=[];e.lang&&e.lang!=o.store.state.language.selected&&o.store.commit("setLanguage",{data:e.lang}),e.topic&&(t=e.topic.split(",").map(function(e){return parseInt(e)})),e.institution&&(n=e.institution.split(",").map(function(e){return parseInt(e)})),e.canton&&(i=e.canton.split(",").map(function(e){return parseInt(e)})),e.head&&(r=e.head.split(",").map(function(e){return parseInt(e)})),o.store.state.topic.selected.toString()!=t.toString()&&o.store.commit("setSelected",{list:"topic",data:t}),o.store.state.institution.selected.toString()!=n.toString()&&o.store.commit("setSelected",{list:"institution",data:n}),o.store.state.canton.selected.toString()!=i.toString()&&o.store.commit("setSelected",{list:"canton",data:i}),o.store.state.head.selected.toString()!=r.toString()&&o.store.commit("setSelected",{list:"head",data:r})}var o=n(3);n(28);var a=n(1),s=localStorage.getItem("dbDate");if(Date.now()-s<2592e5){var l=JSON.parse(localStorage.getItem("topicArray")),u=JSON.parse(localStorage.getItem("institutionArray")),c=JSON.parse(localStorage.getItem("cantonArray")),d=JSON.parse(localStorage.getItem("headArray")),f=JSON.parse(localStorage.getItem("groupArray"));o.store.commit("setData",{list:"topic",data:l}),o.store.commit("setData",{list:"institution",data:u}),o.store.commit("setData",{list:"canton",data:c}),o.store.commit("setData",{list:"head",data:d}),o.store.commit("setData",{list:"group",data:f})}else $.ajax({method:"GET",url:"./data/bafu_umwelt_fgrps_db.csv"}).done(function(e){for(var t=$.csv.toObjects(e),n=0,i=0,r=0,a=0,s={},l={},u={},c={},d={},f=t.length,p=0;p<f;p++){var h=t[p];d[h.gid]={id:h.gid,name:h.groupname.trim(),headIds:[],institutionId:null,departement:h.departement.trim(),institute:h.institute.trim(),cantonId:null,street:h.group_street.trim(),city:h.group_city.trim(),zip:h.group_zip.trim(),website:h.group_website.replace("#",""),coords:{lat:h.group_xcoord,lng:h.group_ycoord},topicIds:[]},h.canton=h.canton.trim(),s[h.cantonID]?d[h.gid].cantonId=s[h.cantonID].id:(s[h.cantonID]={name:h.canton,short:h.cantonID,id:n},d[h.gid].cantonId=n,n++),h.institution=h.institution.trim(),l[h.institution]?d[h.gid].institutionId=l[h.institution].id:(l[h.institution]={name:h.institution,id:i},d[h.gid].institutionId=i,i++);var m=h.group_head.split(/[\ ]*,[\ ]*|^[\ ]*|[\ ]*$/);for(var v in m){var g=m[v];g.length>0&&(u[g]?d[h.gid].headIds.push(u[g].id):(u[g]={name:g,id:r},d[h.gid].headIds.push(r),r++))}var _=h.group_alltopics_de.split(/[\ ]*,[\ ]*|^[\ ]*|[\ ]*$/),y=h.group_alltopics_fr.split(/[\ ]*,[\ ]*|^[\ ]*|[\ ]*$/),b=h.group_alltopics_it.split(/[\ ]*,[\ ]*|^[\ ]*|[\ ]*$/),w=h.group_alltopics_en.split(/[\ ]*,[\ ]*|^[\ ]*|[\ ]*$/),C=h.group_maintopic_de;for(var x in _){var S=!!_[x]&&_[x],L=!!y[x]&&y[x],k=!!b[x]&&b[x],A=!!w[x]&&w[x];if(!(S&&L&&k&&A))break;c[S]?d[h.gid].topicIds.push(c[S].id):(c[S]={de:S,fr:L,it:k,en:A,id:a},d[h.gid].topicIds.push(a),a++),S==C&&(c[S].main=!0,d[h.gid].mainTopicId=c[S].id)}}localStorage.setItem("topicArray",JSON.stringify(c)),localStorage.setItem("institutionArray",JSON.stringify(l)),localStorage.setItem("cantonArray",JSON.stringify(s)),localStorage.setItem("headArray",JSON.stringify(u)),localStorage.setItem("groupArray",JSON.stringify(d)),localStorage.setItem("dbDate",Date.now()),o.store.commit("setData",{list:"topic",data:c}),o.store.commit("setData",{list:"institution",data:l}),o.store.commit("setData",{list:"canton",data:s}),o.store.commit("setData",{list:"head",data:u}),o.store.commit("setData",{list:"group",data:d})});i(),o.store.watch(function(e,t){return e.language.selected},function(e){i()}),$(document).ready(function(){r(),window.frameElement?window.setInterval(function(){r()},50):$(window).on("hashchange",function(){r()})})},function(e,t,n){"use strict";RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},function(t){var n;n="undefined"!=typeof jQuery&&jQuery?jQuery:{},n.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(e,t){var n=/\./;if(isNaN(e))return e;if(n.test(e))return parseFloat(e);var i=parseInt(e);return isNaN(i)?null:i}},parsers:{parse:function(e,n){function i(){if(u=0,c="",n.start&&n.state.rowNum<n.start)return l=[],n.state.rowNum++,void(n.state.colNum=1);if(n.onParseEntry===t)s.push(l);else{var e=n.onParseEntry(l,n.state);!1!==e&&s.push(e)}l=[],n.end&&n.state.rowNum>=n.end&&(d=!0),n.state.rowNum++,n.state.colNum=1}function r(){if(n.onParseValue===t)l.push(c);else{var e=n.onParseValue(c,n.state);!1!==e&&l.push(e)}c="",u=0,n.state.colNum++}var o=n.separator,a=n.delimiter;n.state.rowNum||(n.state.rowNum=1),n.state.colNum||(n.state.colNum=1);var s=[],l=[],u=0,c="",d=!1,f=RegExp.escape(o),p=RegExp.escape(a),h=/(D|S|\r\n|\n|\r|[^DS\r\n]+)/,m=h.source;return m=m.replace(/S/g,f),m=m.replace(/D/g,p),h=new RegExp(m,"gm"),e.replace(h,function(e){if(!d)switch(u){case 0:if(e===o){c+="",r();break}if(e===a){u=1;break}if(/^(\r\n|\n|\r)$/.test(e)){r(),i();break}c+=e,u=3;break;case 1:if(e===a){u=2;break}c+=e,u=1;break;case 2:if(e===a){c+=e,u=1;break}if(e===o){r();break}if(/^(\r\n|\n|\r)$/.test(e)){r(),i();break}throw new Error("CSVDataError: Illegal State [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");case 3:if(e===o){r();break}if(/^(\r\n|\n|\r)$/.test(e)){r(),i();break}if(e===a)throw new Error("CSVDataError: Illegal Quote [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]")}}),0!==l.length&&(r(),i()),s},splitLines:function(e,n){function i(){if(s=0,n.start&&n.state.rowNum<n.start)return l="",void n.state.rowNum++;if(n.onParseEntry===t)a.push(l);else{var e=n.onParseEntry(l,n.state);!1!==e&&a.push(e)}l="",n.end&&n.state.rowNum>=n.end&&(u=!0),n.state.rowNum++}var r=n.separator,o=n.delimiter;n.state.rowNum||(n.state.rowNum=1);var a=[],s=0,l="",u=!1,c=RegExp.escape(r),d=RegExp.escape(o),f=/(D|S|\n|\r|[^DS\r\n]+)/,p=f.source;return p=p.replace(/S/g,c),p=p.replace(/D/g,d),f=new RegExp(p,"gm"),e.replace(f,function(e){if(!u)switch(s){case 0:if(e===r){l+=e,s=0;break}if(e===o){l+=e,s=1;break}if("\n"===e){i();break}if(/^\r$/.test(e))break;l+=e,s=3;break;case 1:if(e===o){l+=e,s=2;break}l+=e,s=1;break;case 2:var t=l.substr(l.length-1);if(e===o&&t===o){l+=e,s=1;break}if(e===r){l+=e,s=0;break}if("\n"===e){i();break}if("\r"===e)break;throw new Error("CSVDataError: Illegal state [Row:"+n.state.rowNum+"]");case 3:if(e===r){l+=e,s=0;break}if("\n"===e){i();break}if("\r"===e)break;if(e===o)throw new Error("CSVDataError: Illegal quote [Row:"+n.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+n.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+n.state.rowNum+"]")}}),""!==l&&i(),a},parseEntry:function(e,n){function i(){if(n.onParseValue===t)a.push(l);else{var e=n.onParseValue(l,n.state);!1!==e&&a.push(e)}l="",s=0,n.state.colNum++}var r=n.separator,o=n.delimiter;n.state.rowNum||(n.state.rowNum=1),n.state.colNum||(n.state.colNum=1);var a=[],s=0,l="";if(!n.match){var u=RegExp.escape(r),c=RegExp.escape(o),d=/(D|S|\n|\r|[^DS\r\n]+)/,f=d.source;f=f.replace(/S/g,u),f=f.replace(/D/g,c),n.match=new RegExp(f,"gm")}return e.replace(n.match,function(e){switch(s){case 0:if(e===r){l+="",i();break}if(e===o){s=1;break}if("\n"===e||"\r"===e)break;l+=e,s=3;break;case 1:if(e===o){s=2;break}l+=e,s=1;break;case 2:if(e===o){l+=e,s=1;break}if(e===r){i();break}if("\n"===e||"\r"===e)break;throw new Error("CSVDataError: Illegal State [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");case 3:if(e===r){i();break}if("\n"===e||"\r"===e)break;if(e===o)throw new Error("CSVDataError: Illegal Quote [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]")}}),i(),a}},helpers:{collectPropertyNames:function(e){var t,n,i=[];for(t in e)for(n in e[t])e[t].hasOwnProperty(n)&&i.indexOf(n)<0&&"function"!=typeof e[t][n]&&i.push(n);return i}},toArray:function(e,i,r){i=i!==t?i:{};var o={};o.callback=r!==t&&"function"==typeof r&&r,o.separator="separator"in i?i.separator:n.csv.defaults.separator,o.delimiter="delimiter"in i?i.delimiter:n.csv.defaults.delimiter;var a=i.state!==t?i.state:{};i={delimiter:o.delimiter,separator:o.separator,onParseEntry:i.onParseEntry,onParseValue:i.onParseValue,state:a};var s=n.csv.parsers.parseEntry(e,i);if(!o.callback)return s;o.callback("",s)},toArrays:function(e,i,r){i=i!==t?i:{};var o={};o.callback=r!==t&&"function"==typeof r&&r,o.separator="separator"in i?i.separator:n.csv.defaults.separator,o.delimiter="delimiter"in i?i.delimiter:n.csv.defaults.delimiter;var a=[];if(i={delimiter:o.delimiter,separator:o.separator,onPreParse:i.onPreParse,onParseEntry:i.onParseEntry,onParseValue:i.onParseValue,onPostParse:i.onPostParse,start:i.start,end:i.end,state:{rowNum:1,colNum:1}},i.onPreParse!==t&&i.onPreParse(e,i.state),a=n.csv.parsers.parse(e,i),i.onPostParse!==t&&i.onPostParse(a,i.state),!o.callback)return a;o.callback("",a)},toObjects:function(e,i,r){i=i!==t?i:{};var o={};o.callback=r!==t&&"function"==typeof r&&r,o.separator="separator"in i?i.separator:n.csv.defaults.separator,o.delimiter="delimiter"in i?i.delimiter:n.csv.defaults.delimiter,o.headers="headers"in i?i.headers:n.csv.defaults.headers,i.start="start"in i?i.start:1,o.headers&&i.start++,i.end&&o.headers&&i.end++;var a=[],s=[];i={delimiter:o.delimiter,separator:o.separator,onPreParse:i.onPreParse,onParseEntry:i.onParseEntry,onParseValue:i.onParseValue,onPostParse:i.onPostParse,start:i.start,end:i.end,state:{rowNum:1,colNum:1},match:!1,transform:i.transform};var l={delimiter:o.delimiter,separator:o.separator,start:1,end:1,state:{rowNum:1,colNum:1}};i.onPreParse!==t&&i.onPreParse(e,i.state);var u=n.csv.parsers.splitLines(e,l),c=n.csv.toArray(u[0],i);a=n.csv.parsers.splitLines(e,i),i.state.colNum=1,i.state.rowNum=c?2:1;for(var d=0,f=a.length;d<f;d++){for(var p=n.csv.toArray(a[d],i),h={},m=0;m<c.length;m++)h[c[m]]=p[m];i.transform!==t?s.push(i.transform.call(t,h)):s.push(h),i.state.rowNum++}if(i.onPostParse!==t&&i.onPostParse(s,i.state),!o.callback)return s;o.callback("",s)},fromArrays:function(e,i,r){i=i!==t?i:{};var o={};o.callback=r!==t&&"function"==typeof r&&r,o.separator="separator"in i?i.separator:n.csv.defaults.separator,o.delimiter="delimiter"in i?i.delimiter:n.csv.defaults.delimiter;var a,s,l,u,c="";for(l=0;l<e.length;l++){for(a=e[l],s=[],u=0;u<a.length;u++){var d=a[u]===t||null===a[u]?"":a[u].toString();d.indexOf(o.delimiter)>-1&&(d=d.replace(new RegExp(o.delimiter,"g"),o.delimiter+o.delimiter));var f="\n|\r|S|D";f=f.replace("S",o.separator),f=f.replace("D",o.delimiter),d.search(f)>-1&&(d=o.delimiter+d+o.delimiter),s.push(d)}c+=s.join(o.separator)+"\r\n"}if(!o.callback)return c;o.callback("",c)},fromObjects:function(e,i,r){i=i!==t?i:{};var o={};if(o.callback=r!==t&&"function"==typeof r&&r,o.separator="separator"in i?i.separator:n.csv.defaults.separator,o.delimiter="delimiter"in i?i.delimiter:n.csv.defaults.delimiter,o.headers="headers"in i?i.headers:n.csv.defaults.headers,o.sortOrder="sortOrder"in i?i.sortOrder:"declare",o.manualOrder="manualOrder"in i?i.manualOrder:[],o.transform=i.transform,"string"==typeof o.manualOrder&&(o.manualOrder=n.csv.toArray(o.manualOrder,o)),o.transform!==t){var a=e;e=[];var s;for(s=0;s<a.length;s++)e.push(o.transform.call(t,a[s]))}var l=n.csv.helpers.collectPropertyNames(e);if("alpha"===o.sortOrder&&l.sort(),o.manualOrder.length>0){var u,c=[].concat(o.manualOrder);for(u=0;u<l.length;u++)c.indexOf(l[u])<0&&c.push(l[u]);l=c}var d,u,f,p,h=[];for(o.headers&&h.push(l),d=0;d<e.length;d++){for(f=[],u=0;u<l.length;u++)p=l[u],p in e[d]&&"function"!=typeof e[d][p]?f.push(e[d][p]):f.push("");h.push(f)}return n.csv.fromArrays(h,i,o.callback)}},n.csvEntry2Array=n.csv.toArray,n.csv2Array=n.csv.toArrays,n.csv2Dictionary=n.csv.toObjects,void 0!==e&&e.exports&&(e.exports=n.csv)}.call(void 0)},function(e,t,n){e.exports=n.p+"index.html"},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,n,r){t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var r,o=e(this),a=o.selector||"",s=(new Date).getTime(),l=[],u=arguments,c=u[0],d=[].slice.call(arguments,1),f="string"==typeof c;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;return o.each(function(t){var p,h,m,v,g,_,y,b,w,C=e(this),x=this;w={initialize:function(){p=w.get.settings.apply(x,u),v=p.className,m=p.error,g=p.metadata,b="."+p.namespace,y="module-"+p.namespace,h=C.data(y)||w,_=w.get.animationEndEvent(),f&&(f=w.invoke(c)),!1===f&&(w.verbose("Converted arguments into settings object",p),p.interval?w.delay(p.animate):w.animate(),w.instantiate())},instantiate:function(){w.verbose("Storing instance of module",w),h=w,C.data(y,h)},destroy:function(){w.verbose("Destroying previous module for",x),C.removeData(y)},refresh:function(){w.verbose("Refreshing display type on next animation"),delete w.displayType},forceRepaint:function(){w.verbose("Forcing element repaint");var e=C.parent(),t=C.next();0===t.length?C.detach().appendTo(e):C.detach().insertBefore(t)},repaint:function(){w.verbose("Repainting element");x.offsetWidth},delay:function(e){var n,i,r=w.get.animationDirection();r||(r=w.can.transition()?w.get.direction():"static"),e=void 0!==e?e:p.interval,n="auto"==p.reverse&&r==v.outward,i=n||1==p.reverse?(o.length-t)*p.interval:t*p.interval,w.debug("Delaying animation by",i),setTimeout(w.animate,i)},animate:function(e){if(p=e||p,!w.is.supported())return w.error(m.support),!1;if(w.debug("Preparing animation",p.animation),w.is.animating()){if(p.queue)return!p.allowRepeats&&w.has.direction()&&w.is.occurring()&&!0!==w.queuing?w.debug("Animation is currently occurring, preventing queueing same animation",p.animation):w.queue(p.animation),!1;if(!p.allowRepeats&&w.is.occurring())return w.debug("Animation is already occurring, will not execute repeated animation",p.animation),!1;w.debug("New animation started, completing previous early",p.animation),h.complete()}w.can.animate()?w.set.animating(p.animation):w.error(m.noAnimation,p.animation,x)},reset:function(){w.debug("Resetting animation to beginning conditions"),w.remove.animationCallbacks(),w.restore.conditions(),w.remove.animating()},queue:function(e){w.debug("Queueing animation of",e),w.queuing=!0,C.one(_+".queue"+b,function(){w.queuing=!1,w.repaint(),w.animate.apply(this,p)})},complete:function(e){w.debug("Animation complete",p.animation),w.remove.completeCallback(),w.remove.failSafe(),w.is.looping()||(w.is.outward()?(w.verbose("Animation is outward, hiding element"),w.restore.conditions(),w.hide()):w.is.inward()?(w.verbose("Animation is outward, showing element"),w.restore.conditions(),w.show()):(w.verbose("Static animation completed"),w.restore.conditions(),p.onComplete.call(x)))},force:{visible:function(){var e=C.attr("style"),t=w.get.userStyle(),n=w.get.displayType(),i=t+"display: "+n+" !important;",r=C.css("display"),o=void 0===e||""===e;r!==n?(w.verbose("Overriding default display to show element",n),C.attr("style",i)):o&&C.removeAttr("style")},hidden:function(){var e=C.attr("style"),t=C.css("display"),n=void 0===e||""===e;"none"===t||w.is.hidden()?n&&C.removeAttr("style"):(w.verbose("Overriding default display to hide element"),C.css("display","none"))}},has:{direction:function(t){var n=!1;return t=t||p.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t!==v.inward&&t!==v.outward||(n=!0)})),n},inlineDisplay:function(){var t=C.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;w.remove.completeCallback(),e=e||p.animation,t=w.get.animationClass(e),w.save.animation(t),w.force.visible(),w.remove.hidden(),w.remove.direction(),w.start.animation(t)},duration:function(e,t){t=t||p.duration,((t="number"==typeof t?t+"ms":t)||0===t)&&(w.verbose("Setting animation duration",t),C.css({"animation-duration":t}))},direction:function(e){e=e||w.get.direction(),e==v.inward?w.set.inward():w.set.outward()},looping:function(){w.debug("Transition set to loop"),C.addClass(v.looping)},hidden:function(){C.addClass(v.transition).addClass(v.hidden)},inward:function(){w.debug("Setting direction to inward"),C.removeClass(v.outward).addClass(v.inward)},outward:function(){w.debug("Setting direction to outward"),C.removeClass(v.inward).addClass(v.outward)},visible:function(){C.addClass(v.transition).addClass(v.visible)}},start:{animation:function(e){e=e||w.get.animationClass(),w.debug("Starting tween",e),C.addClass(e).one(_+".complete"+b,w.complete),p.useFailSafe&&w.add.failSafe(),w.set.duration(p.duration),p.onStart.call(x)}},save:{animation:function(e){w.cache||(w.cache={}),w.cache.animation=e},displayType:function(e){"none"!==e&&C.data(g.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,w.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=w.get.currentAnimation();e&&(C.removeClass(e),w.verbose("Removing animation class",w.cache)),w.remove.duration()}},add:{failSafe:function(){var e=w.get.duration();w.timer=setTimeout(function(){C.triggerHandler(_)},e+p.failSafeDelay),w.verbose("Adding fail safe timer",w.timer)}},remove:{animating:function(){C.removeClass(v.animating)},animationCallbacks:function(){w.remove.queueCallback(),w.remove.completeCallback()},queueCallback:function(){C.off(".queue"+b)},completeCallback:function(){C.off(".complete"+b)},display:function(){C.css("display","")},direction:function(){C.removeClass(v.inward).removeClass(v.outward)},duration:function(){C.css("animation-duration","")},failSafe:function(){w.verbose("Removing fail safe timer",w.timer),w.timer&&clearTimeout(w.timer)},hidden:function(){C.removeClass(v.hidden)},visible:function(){C.removeClass(v.visible)},looping:function(){w.debug("Transitions are no longer looping"),w.is.looping()&&(w.reset(),C.removeClass(v.looping))},transition:function(){C.removeClass(v.visible).removeClass(v.hidden)}},get:{settings:function(t,n,r){return"object"==(void 0===t?"undefined":i(t))?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof r?e.extend({},e.fn.transition.settings,{animation:t,onComplete:r,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==(void 0===n?"undefined":i(n))?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||p.animation,n=w.can.transition()&&!w.has.direction()?w.get.direction()+" ":"";return v.animating+" "+v.transition+" "+n+t},currentAnimation:function(){return!(!w.cache||void 0===w.cache.animation)&&w.cache.animation},currentDirection:function(){return w.is.inward()?v.inward:v.outward},direction:function(){return w.is.hidden()||!w.is.visible()?v.inward:v.outward},animationDirection:function(t){var n;return t=t||p.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t===v.inward?n=v.inward:t===v.outward&&(n=v.outward)})),n||!1},duration:function(e){return e=e||p.duration,!1===e&&(e=C.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(e){return e=void 0===e||e,p.displayType?p.displayType:(e&&void 0===C.data(g.displayType)&&w.can.transition(!0),C.data(g.displayType))},userStyle:function(e){return e=e||C.attr("style")||"",e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement("div"),i={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in i)if(void 0!==t.style[e])return i[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e];return!1}},can:{transition:function(t){var n,i,r,o,a,s,l=p.animation,u=w.get.transitionExists(l),c=w.get.displayType(!1);if(void 0===u||t){if(w.verbose("Determining whether animation exists"),n=C.attr("class"),i=C.prop("tagName"),r=e("<"+i+" />").addClass(n).insertAfter(C),o=r.addClass(l).removeClass(v.inward).removeClass(v.outward).addClass(v.animating).addClass(v.transition).css("animationName"),a=r.addClass(v.inward).css("animationName"),c||(c=r.attr("class",n).removeAttr("style").removeClass(v.hidden).removeClass(v.visible).show().css("display"),w.verbose("Determining final display state",c),w.save.displayType(c)),r.remove(),o!=a)w.debug("Direction exists for animation",l),s=!0;else{if("none"==o||!o)return void w.debug("No animation defined in css",l);w.debug("Static animation found",l,c),s=!1}w.save.transitionExists(l,s)}return void 0!==u?u:s},animate:function(){return void 0!==w.can.transition()}},is:{animating:function(){return C.hasClass(v.animating)},inward:function(){return C.hasClass(v.inward)},outward:function(){return C.hasClass(v.outward)},looping:function(){return C.hasClass(v.looping)},occurring:function(e){return e=e||p.animation,e="."+e.replace(" ","."),C.filter(e).length>0},visible:function(){return C.is(":visible")},hidden:function(){return"hidden"===C.css("visibility")},supported:function(){return!1!==_}},hide:function(){w.verbose("Hiding element"),w.is.animating()&&w.reset(),x.blur(),w.remove.display(),w.remove.visible(),w.set.hidden(),w.force.hidden(),p.onHide.call(x),p.onComplete.call(x)},show:function(e){w.verbose("Showing element",e),w.remove.hidden(),w.set.visible(),w.force.visible(),p.onShow.call(x),p.onComplete.call(x)},toggle:function(){w.is.visible()?w.hide():w.show()},stop:function(){w.debug("Stopping current animation"),C.triggerHandler(_)},stopAll:function(){w.debug("Stopping all animation"),w.remove.queueCallback(),C.triggerHandler(_)},clear:{queue:function(){w.debug("Clearing animation queue"),w.remove.queueCallback()}},enable:function(){w.verbose("Starting animation"),C.removeClass(v.disabled)},disable:function(){w.debug("Stopping animation"),C.addClass(v.disabled)},setting:function(t,n){if(w.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(void 0===n)return p[t];e.isPlainObject(p[t])?e.extend(!0,p[t],n):p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(void 0===n)return w[t];w[t]=n}},debug:function(){!p.silent&&p.debug&&(p.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,p.name+":"),w.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),w.verbose.apply(console,arguments)))},error:function(){p.silent||(w.error=Function.prototype.bind.call(console.error,console,p.name+":"),w.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:x,"Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var t=p.name+":",n=0;s=!1,clearTimeout(w.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var o,a,s,l=h;return n=n||d,i=x||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(r)?r.push(s):void 0!==r?r=[r,s]:void 0!==s&&(r=s),void 0!==a&&a}},w.initialize()}),void 0!==r?r:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document)},function(e,t,n){"use strict";!function(e,t,n,i){t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dropdown=function(i){var r,o=e(this),a=e(n),s=o.selector||"",l="ontouchstart"in n.documentElement,u=(new Date).getTime(),c=[],d=arguments[0],f="string"==typeof d,p=[].slice.call(arguments,1);return o.each(function(h){var m,v,g,_,y,b,w,C,x=e.isPlainObject(i)?e.extend(!0,{},e.fn.dropdown.settings,i):e.extend({},e.fn.dropdown.settings),S=x.className,L=x.message,k=x.fields,A=x.keys,O=x.metadata,T=x.namespace,M=x.regExp,P=x.selector,E=x.error,I=x.templates,$="."+T,D="module-"+T,R=e(this),j=e(x.context),N=R.find(P.text),q=R.find(P.search),z=R.find(P.sizer),F=R.find(P.input),B=R.find(P.icon),U=R.prev().find(P.text).length>0?R.prev().find(P.text):R.prev(),V=R.children(P.menu),G=V.find(P.item),H=!1,Z=!1,W=!1,J=this,K=R.data(D);C={initialize:function(){C.debug("Initializing dropdown",x),C.is.alreadySetup()?C.setup.reference():(C.setup.layout(),x.values&&C.change.values(x.values),C.refreshData(),C.save.defaults(),C.restore.selected(),C.create.id(),C.bind.events(),C.observeChanges(),C.instantiate())},instantiate:function(){C.verbose("Storing instance of dropdown",C),K=C,R.data(D,C)},destroy:function(){C.verbose("Destroying previous dropdown",R),C.remove.tabbable(),R.off($).removeData(D),V.off($),a.off(_),C.disconnect.menuObserver(),C.disconnect.selectObserver()},observeChanges:function(){"MutationObserver"in t&&(b=new MutationObserver(C.event.select.mutation),w=new MutationObserver(C.event.menu.mutation),C.debug("Setting up mutation observer",b,w),C.observe.select(),C.observe.menu())},disconnect:{menuObserver:function(){w&&w.disconnect()},selectObserver:function(){b&&b.disconnect()}},observe:{select:function(){C.has.input()&&b.observe(R[0],{childList:!0,subtree:!0})},menu:function(){C.has.menu()&&w.observe(V[0],{childList:!0,subtree:!0})}},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),_="."+y,C.verbose("Creating unique id for element",y)},userChoice:function(t){var n,i,r;return!!(t=t||C.get.userValues())&&(t=e.isArray(t)?t:[t],e.each(t,function(t,o){!1===C.get.item(o)&&(r=x.templates.addition(C.add.variables(L.addResult,o)),i=e("<div />").html(r).attr("data-"+O.value,o).attr("data-"+O.text,o).addClass(S.addition).addClass(S.item),x.hideAdditions&&i.addClass(S.hidden),n=void 0===n?i:n.add(i),C.verbose("Creating user choices for value",o,i))}),n)},userLabels:function(t){var n=C.get.userValues();n&&(C.debug("Adding user labels",n),e.each(n,function(e,t){C.verbose("Adding custom user value"),C.add.label(t,t)}))},menu:function(){V=e("<div />").addClass(S.menu).appendTo(R)},sizer:function(){z=e("<span />").addClass(S.sizer).insertAfter(q)}},search:function(e){e=void 0!==e?e:C.get.query(),C.verbose("Searching for query",e),C.has.minCharacters(e)?C.filter(e):C.hide()},select:{firstUnfiltered:function(){C.verbose("Selecting first non-filtered element"),C.remove.selectedItem(),G.not(P.unselectable).not(P.addition+P.hidden).eq(0).addClass(S.selected)},nextAvailable:function(e){e=e.eq(0);var t=e.nextAll(P.item).not(P.unselectable).eq(0),n=e.prevAll(P.item).not(P.unselectable).eq(0);t.length>0?(C.verbose("Moving selection to",t),t.addClass(S.selected)):(C.verbose("Moving selection to",n),n.addClass(S.selected))}},setup:{api:function(){var e={debug:x.debug,urlData:{value:C.get.value(),query:C.get.query()},on:!1};C.verbose("First request, initializing API"),R.api(e)},layout:function(){R.is("select")&&(C.setup.select(),C.setup.returnedObject()),C.has.menu()||C.create.menu(),C.is.search()&&!C.has.search()&&(C.verbose("Adding search input"),q=e("<input />").addClass(S.search).prop("autocomplete","off").insertBefore(N)),C.is.multiple()&&C.is.searchSelection()&&!C.has.sizer()&&C.create.sizer(),x.allowTab&&C.set.tabbable()},select:function(){var t=C.get.selectValues();C.debug("Dropdown initialized on a select",t),R.is("select")&&(F=R),F.parent(P.dropdown).length>0?(C.debug("UI dropdown already exists. Creating dropdown menu only"),R=F.closest(P.dropdown),C.has.menu()||C.create.menu(),V=R.children(P.menu),C.setup.menu(t)):(C.debug("Creating entire dropdown from select"),R=e("<div />").attr("class",F.attr("class")).addClass(S.selection).addClass(S.dropdown).html(I.dropdown(t)).insertBefore(F),F.hasClass(S.multiple)&&!1===F.prop("multiple")&&(C.error(E.missingMultiple),F.prop("multiple",!0)),F.is("[multiple]")&&C.set.multiple(),F.prop("disabled")&&(C.debug("Disabling dropdown"),R.addClass(S.disabled)),F.removeAttr("class").detach().prependTo(R)),C.refresh()},menu:function(e){V.html(I.menu(e,k)),G=V.find(P.item)},reference:function(){C.debug("Dropdown behavior was called on select, replacing with closest dropdown"),R=R.parent(P.dropdown),K=R.data(D),J=R.get(0),C.refresh(),C.setup.returnedObject()},returnedObject:function(){var e=o.slice(0,h),t=o.slice(h+1);o=e.add(R).add(t)}},refresh:function(){C.refreshSelectors(),C.refreshData()},refreshItems:function(){G=V.find(P.item)},refreshSelectors:function(){C.verbose("Refreshing selector cache"),N=R.find(P.text),q=R.find(P.search),F=R.find(P.input),B=R.find(P.icon),U=R.prev().find(P.text).length>0?R.prev().find(P.text):R.prev(),V=R.children(P.menu),G=V.find(P.item)},refreshData:function(){C.verbose("Refreshing cached metadata"),G.removeData(O.text).removeData(O.value)},clearData:function(){C.verbose("Clearing metadata"),G.removeData(O.text).removeData(O.value),R.removeData(O.defaultText).removeData(O.defaultValue).removeData(O.placeholderText)},toggle:function(){C.verbose("Toggling menu visibility"),C.is.active()?C.hide():C.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},!C.can.show()&&C.is.remote()&&(C.debug("No API results retrieved, searching before show"),C.queryRemote(C.get.query(),C.show)),C.can.show()&&!C.is.active()){if(C.debug("Showing dropdown"),!C.has.message()||C.has.maxSelections()||C.has.allResultsFiltered()||C.remove.message(),C.is.allFiltered())return!0;!1!==x.onShow.call(J)&&C.animate.show(function(){C.can.click()&&C.bind.intent(),C.has.menuSearch()&&C.focusSearch(),C.set.visible(),t.call(J)})}},hide:function(t){t=e.isFunction(t)?t:function(){},C.is.active()&&(C.debug("Hiding dropdown"),!1!==x.onHide.call(J)&&C.animate.hide(function(){C.remove.visible(),t.call(J)}))},hideOthers:function(){C.verbose("Finding other dropdowns to hide"),o.not(R).has(P.menu+"."+S.visible).dropdown("hide")},hideMenu:function(){C.verbose("Hiding menu  instantaneously"),C.remove.active(),C.remove.visible(),V.transition("hide")},hideSubMenus:function(){var e=V.children(P.item).find(P.menu);C.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){l&&C.bind.touchEvents(),C.bind.keyboardEvents(),C.bind.inputEvents(),C.bind.mouseEvents()},touchEvents:function(){C.debug("Touch device detected binding additional touch events"),C.is.searchSelection()||C.is.single()&&R.on("touchstart"+$,C.event.test.toggle),V.on("touchstart"+$,P.item,C.event.item.mouseenter)},keyboardEvents:function(){C.verbose("Binding keyboard events"),R.on("keydown"+$,C.event.keydown),C.has.search()&&R.on(C.get.inputEvent()+$,P.search,C.event.input),C.is.multiple()&&a.on("keydown"+_,C.event.document.keydown)},inputEvents:function(){C.verbose("Binding input change events"),R.on("change"+$,P.input,C.event.change)},mouseEvents:function(){C.verbose("Binding mouse events"),C.is.multiple()&&R.on("click"+$,P.label,C.event.label.click).on("click"+$,P.remove,C.event.remove.click),C.is.searchSelection()?(R.on("mousedown"+$,C.event.mousedown).on("mouseup"+$,C.event.mouseup).on("mousedown"+$,P.menu,C.event.menu.mousedown).on("mouseup"+$,P.menu,C.event.menu.mouseup).on("click"+$,P.icon,C.event.icon.click).on("focus"+$,P.search,C.event.search.focus).on("click"+$,P.search,C.event.search.focus).on("blur"+$,P.search,C.event.search.blur).on("click"+$,P.text,C.event.text.focus),C.is.multiple()&&R.on("click"+$,C.event.click)):("click"==x.on?R.on("click"+$,P.icon,C.event.icon.click).on("click"+$,C.event.test.toggle):"hover"==x.on?R.on("mouseenter"+$,C.delay.show).on("mouseleave"+$,C.delay.hide):R.on(x.on+$,C.toggle),R.on("mousedown"+$,C.event.mousedown).on("mouseup"+$,C.event.mouseup).on("focus"+$,C.event.focus),C.has.menuSearch()?R.on("blur"+$,P.search,C.event.search.blur):R.on("blur"+$,C.event.blur)),V.on("mouseenter"+$,P.item,C.event.item.mouseenter).on("mouseleave"+$,P.item,C.event.item.mouseleave).on("click"+$,P.item,C.event.item.click)},intent:function(){C.verbose("Binding hide intent event to document"),l&&a.on("touchstart"+_,C.event.test.touch).on("touchmove"+_,C.event.test.touch),a.on("click"+_,C.event.test.hide)}},unbind:{intent:function(){C.verbose("Removing hide intent event from document"),l&&a.off("touchstart"+_).off("touchmove"+_),a.off("click"+_)}},filter:function(e){var t=void 0!==e?e:C.get.query(),n=function(){C.is.multiple()&&C.filterActive(),(e||!e&&0==C.get.activeItem().length)&&C.select.firstUnfiltered(),C.has.allResultsFiltered()?x.onNoResults.call(J,t)?x.allowAdditions?x.hideAdditions&&(C.verbose("User addition with no menu, setting empty style"),C.set.empty(),C.hideMenu()):(C.verbose("All items filtered, showing message",t),C.add.message(L.noResults)):(C.verbose("All items filtered, hiding dropdown",t),C.hideMenu()):(C.remove.empty(),C.remove.message()),x.allowAdditions&&C.add.userSuggestion(e),C.is.searchSelection()&&C.can.show()&&C.is.focusedOnSearch()&&C.show()};x.useLabels&&C.has.maxSelections()||(x.apiSettings?C.can.useAPI()?C.queryRemote(t,function(){x.filterRemoteData&&C.filterItems(t),n()}):C.error(E.noAPI):(C.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,cache:"local",throttle:x.throttle,urlData:{query:t},onError:function(){C.add.message(L.serverError),n()},onFailure:function(){C.add.message(L.serverError),n()},onSuccess:function(e){C.remove.message(),C.setup.menu({values:e[k.remoteValues]}),n()}};R.api("get request")||C.setup.api(),i=e.extend(!0,{},i,x.apiSettings),R.api("setting",i).api("query")},filterItems:function(t){var n=void 0!==t?t:C.get.query(),i=null,r=C.escape.string(n),o=new RegExp("^"+r,"igm");C.has.query()&&(i=[],C.verbose("Searching for matching values",n),G.each(function(){var t,r,a=e(this);if("both"==x.match||"text"==x.match){if(t=String(C.get.choiceText(a,!1)),-1!==t.search(o))return i.push(this),!0;if("exact"===x.fullTextSearch&&C.exactSearch(n,t))return i.push(this),!0;if(!0===x.fullTextSearch&&C.fuzzySearch(n,t))return i.push(this),!0}if("both"==x.match||"value"==x.match){if(r=String(C.get.choiceValue(a,t)),-1!==r.search(o))return i.push(this),!0;if("exact"===x.fullTextSearch&&C.exactSearch(n,r))return i.push(this),!0;if(!0===x.fullTextSearch&&C.fuzzySearch(n,r))return i.push(this),!0}})),C.debug("Showing only matched items",n),C.remove.filteredItem(),i&&G.not(i).addClass(S.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var r=0,o=0;r<i;r++){for(var a=e.charCodeAt(r);o<n;)if(t.charCodeAt(o++)===a)continue e;return!1}return!0},exactSearch:function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),t.indexOf(e)>-1},filterActive:function(){x.useLabels&&G.filter("."+S.active).addClass(S.filtered)},focusSearch:function(e){C.has.search()&&!C.is.focusedOnSearch()&&(e?(R.off("focus"+$,P.search),q.focus(),R.on("focus"+$,P.search,C.event.search.focus)):q.focus())},forceSelection:function(){var e=G.not(S.filtered).filter("."+S.selected).eq(0),t=G.not(S.filtered).filter("."+S.active).eq(0),n=e.length>0?e:t;if(n.length>0&&!C.is.multiple())return C.debug("Forcing partial selection to selected item",n),void C.event.item.click.call(n,{},!0);x.allowAdditions?(C.set.selected(C.get.query()),C.remove.searchTerm()):C.remove.searchTerm()},change:{values:function(t){x.allowAdditions||C.clear(),C.debug("Creating dropdown with specified values",t),C.setup.menu({values:t}),e.each(t,function(e,t){if(1==t.selected)return C.debug("Setting initial selection to",t.value),C.set.selected(t.value),!0})}},event:{change:function(){W||(C.debug("Input changed, updating selection"),C.set.selected())},focus:function(){x.showOnFocus&&!H&&C.is.hidden()&&!v&&C.show()},blur:function(e){v=n.activeElement===this,H||v||(C.remove.activeLabel(),C.hide())},mousedown:function(){C.is.searchSelection()?g=!0:H=!0},mouseup:function(){C.is.searchSelection()?g=!1:H=!1},click:function(t){e(t.target).is(R)&&(C.is.focusedOnSearch()?C.show():C.focusSearch())},search:{focus:function(){H=!0,C.is.multiple()&&C.remove.activeLabel(),x.showOnFocus&&C.search()},blur:function(e){v=n.activeElement===this,C.is.searchSelection()&&!g&&(Z||v||(x.forceSelection&&C.forceSelection(),C.hide())),g=!1}},icon:{click:function(e){C.toggle()}},text:{focus:function(e){H=!0,C.focusSearch()}},input:function(e){(C.is.multiple()||C.is.searchSelection())&&C.set.filtered(),clearTimeout(C.timer),C.timer=setTimeout(C.search,x.delay.search)},label:{click:function(t){var n=e(this),i=R.find(P.label),r=i.filter("."+S.active),o=n.nextAll("."+S.active),a=n.prevAll("."+S.active),s=o.length>0?n.nextUntil(o).add(r).add(n):n.prevUntil(a).add(r).add(n);t.shiftKey?(r.removeClass(S.active),s.addClass(S.active)):t.ctrlKey?n.toggleClass(S.active):(r.removeClass(S.active),n.addClass(S.active)),x.onLabelSelect.apply(this,i.filter("."+S.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(S.active)?C.remove.activeLabels():C.remove.activeLabels(t)}},test:{toggle:function(e){var t=C.is.multiple()?C.show:C.toggle;C.is.bubbledLabelClick(e)||C.is.bubbledIconClick(e)||C.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){C.determine.eventOnElement(e,function(){"touchstart"==e.type?C.timer=setTimeout(function(){C.hide()},x.delay.touch):"touchmove"==e.type&&clearTimeout(C.timer)}),e.stopPropagation()},hide:function(e){C.determine.eventInModule(e,C.hide)}},select:{mutation:function(t){C.debug("<select> modified, recreating menu");var n=!1;e.each(t,function(t,i){if(e(i.target).is("select")||e(i.addedNodes).is("select"))return n=!0,!0}),n&&(C.disconnect.selectObserver(),C.refresh(),C.setup.select(),C.set.selected(),C.observe.select())}},menu:{mutation:function(t){var n=t[0],i=e(n.addedNodes?n.addedNodes[0]:!1),r=e(n.removedNodes?n.removedNodes[0]:!1),o=i.add(r),a=o.is(P.addition)||o.closest(P.addition).length>0,s=o.is(P.message)||o.closest(P.message).length>0;a||s?(C.debug("Updating item selector cache"),C.refreshItems()):(C.debug("Menu modified, updating selector cache"),C.refresh())},mousedown:function(){Z=!0},mouseup:function(){Z=!1}},item:{mouseenter:function(t){var n=e(t.target),i=e(this),r=i.children(P.menu),o=i.siblings(P.item).children(P.menu),a=r.length>0;!(r.find(n).length>0)&&a&&(clearTimeout(C.itemTimer),C.itemTimer=setTimeout(function(){C.verbose("Showing sub-menu",r),e.each(o,function(){C.animate.hide(!1,e(this))}),C.animate.show(!1,r)},x.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(P.menu);n.length>0&&(clearTimeout(C.itemTimer),C.itemTimer=setTimeout(function(){C.verbose("Hiding sub-menu",n),C.animate.hide(!1,n)},x.delay.hide))},click:function(t,i){var r=e(this),o=e(t?t.target:""),a=r.find(P.menu),s=C.get.choiceText(r),l=C.get.choiceValue(r,s),u=a.length>0,c=a.find(o).length>0;C.has.menuSearch()&&e(n.activeElement).blur(),c||u&&!x.allowCategorySelection||(C.is.searchSelection()&&(x.allowAdditions&&C.remove.userAddition(),C.remove.searchTerm(),C.is.focusedOnSearch()||1==i||C.focusSearch(!0)),x.useLabels||(C.remove.filteredItem(),C.set.scrollPosition(r)),C.determine.selectAction.call(this,s,l))}},document:{keydown:function(e){var t=e.which;if(C.is.inObject(t,A)){var n=R.find(P.label),i=n.filter("."+S.active),r=(i.data(O.value),n.index(i)),o=n.length,a=i.length>0,s=i.length>1,l=0===r,u=r+1==o,c=C.is.searchSelection(),d=C.is.focusedOnSearch(),f=C.is.focused(),p=d&&0===C.get.caretPosition();if(c&&!a&&!d)return;t==A.leftArrow?!f&&!p||a?a&&(e.shiftKey?C.verbose("Adding previous label to selection"):(C.verbose("Selecting previous label"),n.removeClass(S.active)),l&&!s?i.addClass(S.active):i.prev(P.siblingLabel).addClass(S.active).end(),e.preventDefault()):(C.verbose("Selecting previous label"),n.last().addClass(S.active)):t==A.rightArrow?(f&&!a&&n.first().addClass(S.active),a&&(e.shiftKey?C.verbose("Adding next label to selection"):(C.verbose("Selecting next label"),n.removeClass(S.active)),u?c?d?n.removeClass(S.active):C.focusSearch():s?i.next(P.siblingLabel).addClass(S.active):i.addClass(S.active):i.next(P.siblingLabel).addClass(S.active),e.preventDefault())):t==A.deleteKey||t==A.backspace?a?(C.verbose("Removing active labels"),u&&c&&!d&&C.focusSearch(),i.last().next(P.siblingLabel).addClass(S.active),C.remove.activeLabels(i),e.preventDefault()):p&&!a&&t==A.backspace&&(C.verbose("Removing last label on input backspace"),i=n.last().addClass(S.active),C.remove.activeLabels(i)):i.removeClass(S.active)}}},keydown:function(e){var t=e.which;if(C.is.inObject(t,A)){var n,i=G.not(P.unselectable).filter("."+S.selected).eq(0),r=V.children("."+S.active).eq(0),o=i.length>0?i:r,a=o.length>0?o.siblings(":not(."+S.filtered+")").addBack():V.children(":not(."+S.filtered+")"),s=o.children(P.menu),l=o.closest(P.menu),u=l.hasClass(S.visible)||l.hasClass(S.animating)||l.parent(P.menu).length>0,c=s.length>0,d=o.length>0,f=o.not(P.unselectable).length>0,p=t==A.delimiter&&x.allowAdditions&&C.is.multiple(),h=x.allowAdditions&&x.hideAdditions&&(t==A.enter||p)&&f;if(h&&(C.verbose("Selecting item from keyboard shortcut",o),C.event.item.click.call(o,e),C.is.searchSelection()&&C.remove.searchTerm()),C.is.visible()){if((t==A.enter||p)&&(t==A.enter&&d&&c&&!x.allowCategorySelection?(C.verbose("Pressed enter on unselectable category, opening sub menu"),t=A.rightArrow):f&&(C.verbose("Selecting item from keyboard shortcut",o),C.event.item.click.call(o,e),C.is.searchSelection()&&C.remove.searchTerm()),e.preventDefault()),d&&(t==A.leftArrow&&l[0]!==V[0]&&(C.verbose("Left key pressed, closing sub-menu"),C.animate.hide(!1,l),o.removeClass(S.selected),l.closest(P.item).addClass(S.selected),e.preventDefault()),t==A.rightArrow&&c&&(C.verbose("Right key pressed, opening sub-menu"),C.animate.show(!1,s),o.removeClass(S.selected),s.find(P.item).eq(0).addClass(S.selected),e.preventDefault())),t==A.upArrow){if(n=d&&u?o.prevAll(P.item+":not("+P.unselectable+")").eq(0):G.eq(0),a.index(n)<0)return C.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();C.verbose("Up key pressed, changing active item"),o.removeClass(S.selected),n.addClass(S.selected),C.set.scrollPosition(n),x.selectOnKeydown&&C.is.single()&&C.set.selectedItem(n),e.preventDefault()}if(t==A.downArrow){if(n=d&&u?n=o.nextAll(P.item+":not("+P.unselectable+")").eq(0):G.eq(0),0===n.length)return C.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();C.verbose("Down key pressed, changing active item"),G.removeClass(S.selected),n.addClass(S.selected),C.set.scrollPosition(n),x.selectOnKeydown&&C.is.single()&&C.set.selectedItem(n),e.preventDefault()}t==A.pageUp&&(C.scrollPage("up"),e.preventDefault()),t==A.pageDown&&(C.scrollPage("down"),e.preventDefault()),t==A.escape&&(C.verbose("Escape key pressed, closing dropdown"),C.hide())}else p&&e.preventDefault(),t!=A.downArrow||C.is.visible()||(C.verbose("Down key pressed, showing dropdown"),C.show(),e.preventDefault())}else C.has.search()||C.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=F[0];t&&(C.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){C.verbose("Determining action",x.action),e.isFunction(C.action[x.action])?(C.verbose("Triggering preset action",x.action,t,n),C.action[x.action].call(J,t,n,this)):e.isFunction(x.action)?(C.verbose("Triggering user action",x.action,t,n),x.action.call(J,t,n,this)):C.error(E.action,x.action)},eventInModule:function(t,i){var r=e(t.target),o=r.closest(n.documentElement).length>0,a=r.closest(R).length>0;return i=e.isFunction(i)?i:function(){},o&&!a?(C.verbose("Triggering event",i),i(),!0):(C.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,i){var r=e(t.target),o=r.closest(P.siblingLabel),a=n.body.contains(t.target),s=0===R.find(o).length,l=0===r.closest(V).length;return i=e.isFunction(i)?i:function(){},a&&s&&l?(C.verbose("Triggering event",i),i(),!0):(C.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n,i){if(n=void 0!==n?n:t,C.can.activate(e(i))){if(C.set.selected(n,e(i)),C.is.multiple()&&!C.is.allFiltered())return;C.hideAndClear()}},select:function(t,n,i){if(n=void 0!==n?n:t,C.can.activate(e(i))){if(C.set.value(n,e(i)),C.is.multiple()&&!C.is.allFiltered())return;C.hideAndClear()}},combo:function(t,n,i){n=void 0!==n?n:t,C.set.selected(n,e(i)),C.hideAndClear()},hide:function(e,t,n){C.set.value(t,e),C.hideAndClear()}},get:{id:function(){return y},defaultText:function(){return R.data(O.defaultText)},defaultValue:function(){return R.data(O.defaultValue)},placeholderText:function(){return"auto"!=x.placeholder&&"string"==typeof x.placeholder?x.placeholder:R.data(O.placeholderText)||""},text:function(){return N.text()},query:function(){return e.trim(q.val())},searchWidth:function(e){return e=void 0!==e?e:q.val(),z.text(e),Math.ceil(z.width()+1)},selectionCount:function(){var t=C.get.values();return C.is.multiple()?e.isArray(t)?t.length:0:""!==C.get.value()?1:0},transition:function(e){return"auto"==x.transition?C.is.upward(e)?"slide up":"slide down":x.transition},userValues:function(){var t=C.get.values();return!!t&&(t=e.isArray(t)?t:[t],e.grep(t,function(e){return!1===C.get.item(e)}))},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=q.get(0);return"selectionStart"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},value:function(){var t=F.length>0?F.val():R.data(O.value),n=e.isArray(t)&&1===t.length&&""===t[0];return void 0===t||n?"":t},values:function(){var e=C.get.value();return""===e?"":!C.has.selectInput()&&C.is.multiple()?"string"==typeof e?e.split(x.delimiter):"":e},remoteValues:function(){var t=C.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),e.each(t,function(e,t){var i=C.read.remoteData(t);C.verbose("Restoring value from session data",i,t),i&&(n||(n={}),n[t]=i)})),n},choiceText:function(t,n){if(n=void 0!==n?n:x.preserveHTML,t)return t.find(P.menu).length>0&&(C.verbose("Retrieving text of element with sub-menu"),t=t.clone(),t.find(P.menu).remove(),t.find(P.menuIcon).remove()),void 0!==t.data(O.text)?t.data(O.text):n?e.trim(t.html()):e.trim(t.text())},choiceValue:function(t,n){return n=n||C.get.choiceText(t),!!t&&(void 0!==t.data(O.value)?String(t.data(O.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n))},inputEvent:function(){var e=q[0];return!!e&&(void 0!==e.oninput?"input":void 0!==e.onpropertychange?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=[],R.find("option").each(function(){var n=e(this),i=n.html(),r=n.attr("disabled"),o=void 0!==n.attr("value")?n.attr("value"):i;"auto"===x.placeholder&&""===o?t.placeholder=i:t.values.push({name:i,value:o,disabled:r})}),x.placeholder&&"auto"!==x.placeholder&&(C.debug("Setting placeholder value to",x.placeholder),t.placeholder=x.placeholder),x.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),C.debug("Retrieved and sorted values from select",t)):C.debug("Retrieved values from select",t),t},activeItem:function(){return G.filter("."+S.active)},selectedItem:function(){var e=G.not(P.unselectable).filter("."+S.selected);return e.length>0?e:G.eq(0)},itemWithAdditions:function(e){var t=C.get.item(e),n=C.create.userChoice(e);return n&&n.length>0&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var i,r,o=!1;return t=void 0!==t?t:void 0!==C.get.values()?C.get.values():C.get.text(),i=r?t.length>0:void 0!==t&&null!==t,r=C.is.multiple()&&e.isArray(t),n=""===t||0===t||(n||!1),i&&G.each(function(){var i=e(this),a=C.get.choiceText(i),s=C.get.choiceValue(i,a);if(null!==s&&void 0!==s)if(r)-1===e.inArray(String(s),t)&&-1===e.inArray(a,t)||(o=o?o.add(i):i);else if(n){if(C.verbose("Ambiguous dropdown value using strict type check",i,t),s===t||a===t)return o=i,!0}else if(String(s)==String(t)||a==t)return C.verbose("Found select item by value",s,t),o=i,!0}),o}},check:{maxSelections:function(e){return!x.maxSelections||(e=void 0!==e?e:C.get.selectionCount(),e>=x.maxSelections?(C.debug("Maximum selection count reached"),x.useLabels&&(G.addClass(S.filtered),C.add.message(L.maxSelections)),!0):(C.verbose("No longer at maximum selection count"),C.remove.message(),C.remove.filteredItem(),C.is.searchSelection()&&C.filterItems(),!1))}},restore:{defaults:function(){C.clear(),C.restore.defaultText(),C.restore.defaultValue()},defaultText:function(){var e=C.get.defaultText();e===C.get.placeholderText?(C.debug("Restoring default placeholder text",e),C.set.placeholderText(e)):(C.debug("Restoring default text",e),C.set.text(e))},placeholderText:function(){C.set.placeholderText()},defaultValue:function(){var e=C.get.defaultValue();void 0!==e&&(C.debug("Restoring default value",e),""!==e?(C.set.value(e),C.set.selected()):(C.remove.activeItem(),C.remove.selectedItem()))},labels:function(){x.allowAdditions&&(x.useLabels||(C.error(E.labels),x.useLabels=!0),C.debug("Restoring selected values"),C.create.userLabels()),C.check.maxSelections()},selected:function(){C.restore.values(),C.is.multiple()?(C.debug("Restoring previously selected values and labels"),C.restore.labels()):C.debug("Restoring previously selected values")},values:function(){C.set.initialLoad(),x.apiSettings&&x.saveRemoteData&&C.get.remoteValues()?C.restore.remoteValues():C.set.selected(),C.remove.initialLoad()},remoteValues:function(){var t=C.get.remoteValues();C.debug("Recreating selected from session data",t),t&&(C.is.single()?e.each(t,function(e,t){C.set.text(t)}):e.each(t,function(e,t){C.add.label(e,t)}))}},read:{remoteData:function(e){var n;return void 0===t.Storage?void C.error(E.noStorage):void 0!==(n=sessionStorage.getItem(e))&&n}},save:{defaults:function(){C.save.defaultText(),C.save.placeholderText(),C.save.defaultValue()},defaultValue:function(){var e=C.get.value();C.verbose("Saving default value as",e),R.data(O.defaultValue,e)},defaultText:function(){var e=C.get.text();C.verbose("Saving default text as",e),R.data(O.defaultText,e)},placeholderText:function(){var e;!1!==x.placeholder&&N.hasClass(S.placeholder)&&(e=C.get.text(),C.verbose("Saving placeholder text as",e),R.data(O.placeholderText,e))},remoteData:function(e,n){if(void 0===t.Storage)return void C.error(E.noStorage);C.verbose("Saving remote data to session storage",n,e),sessionStorage.setItem(n,e)}},clear:function(){C.is.multiple()&&x.useLabels?C.remove.labels():(C.remove.activeItem(),C.remove.selectedItem()),C.set.placeholderText(),C.clearValue()},clearValue:function(){C.set.value("")},scrollPage:function(e,t){var n,i,r,o=t||C.get.selectedItem(),a=o.closest(P.menu),s=a.outerHeight(),l=a.scrollTop(),u=G.eq(0).outerHeight(),c=Math.floor(s/u),d=(a.prop("scrollHeight"),"up"==e?l-u*c:l+u*c),f=G.not(P.unselectable);r="up"==e?f.index(o)-c:f.index(o)+c,n="up"==e?r>=0:r<f.length,i=n?f.eq(r):"up"==e?f.first():f.last(),i.length>0&&(C.debug("Scrolling page",e,i),o.removeClass(S.selected),i.addClass(S.selected),x.selectOnKeydown&&C.is.single()&&C.set.selectedItem(i),a.scrollTop(d))},set:{filtered:function(){var e=C.is.multiple(),t=C.is.searchSelection(),n=e&&t,i=t?C.get.query():"",r="string"==typeof i&&i.length>0,o=C.get.searchWidth(),a=""!==i;e&&r&&(C.verbose("Adjusting input width",o,x.glyphWidth),q.css("width",o)),r||n&&a?(C.verbose("Hiding placeholder text"),N.addClass(S.filtered)):(!e||n&&!a)&&(C.verbose("Showing placeholder text"),N.removeClass(S.filtered))},empty:function(){R.addClass(S.empty)},loading:function(){R.addClass(S.loading)},placeholderText:function(e){e=e||C.get.placeholderText(),C.debug("Setting placeholder text",e),C.set.text(e),N.addClass(S.placeholder)},tabbable:function(){C.is.searchSelection()?(C.debug("Added tabindex to searchable dropdown"),q.val("").attr("tabindex",0),V.attr("tabindex",-1)):(C.debug("Added tabindex to dropdown"),void 0===R.attr("tabindex")&&(R.attr("tabindex",0),V.attr("tabindex",-1)))},initialLoad:function(){C.verbose("Setting initial load"),m=!0},activeItem:function(e){x.allowAdditions&&e.filter(P.addition).length>0?e.addClass(S.filtered):e.addClass(S.active)},partialSearch:function(e){var t=C.get.query().length;q.val(e.substr(0,t))},scrollPosition:function(e,t){var n,i,r,o,a,s,l,u,c;e=e||C.get.selectedItem(),n=e.closest(P.menu),i=e&&e.length>0,t=void 0!==t&&t,e&&n.length>0&&i&&(o=e.position().top,n.addClass(S.loading),s=n.scrollTop(),a=n.offset().top,o=e.offset().top,r=s-a+o,t||(l=n.height(),c=s+l<r+5,u=r-5<s),C.debug("Scrolling to active item",r),(t||u||c)&&n.scrollTop(r),n.removeClass(S.loading))},text:function(e){"select"!==x.action&&("combo"==x.action?(C.debug("Changing combo button text",e,U),x.preserveHTML?U.html(e):U.text(e)):(e!==C.get.placeholderText()&&N.removeClass(S.placeholder),C.debug("Changing text",e,N),N.removeClass(S.filtered),x.preserveHTML?N.html(e):N.text(e)))},selectedItem:function(e){var t=C.get.choiceValue(e),n=C.get.choiceText(e,!1),i=C.get.choiceText(e,!0);C.debug("Setting user selection to item",e),C.remove.activeItem(),C.set.partialSearch(n),C.set.activeItem(e),C.set.selected(t,e),C.set.text(i)},selectedLetter:function(t){var n,i=G.filter("."+S.selected),r=i.length>0&&C.has.firstLetter(i,t),o=!1;r&&(n=i.nextAll(G).eq(0),C.has.firstLetter(n,t)&&(o=n)),o||G.each(function(){if(C.has.firstLetter(e(this),t))return o=e(this),!1}),o&&(C.verbose("Scrolling to next value with letter",t),C.set.scrollPosition(o),i.removeClass(S.selected),o.addClass(S.selected),x.selectOnKeydown&&C.is.single()&&C.set.selectedItem(o))},direction:function(e){"auto"==x.direction?(C.remove.upward(),C.can.openDownward(e)?C.remove.upward(e):C.set.upward(e),C.is.leftward(e)||C.can.openRightward(e)||C.set.leftward(e)):"upward"==x.direction&&C.set.upward(e)},upward:function(e){(e||R).addClass(S.upward)},leftward:function(e){(e||V).addClass(S.leftward)},value:function(e,t,n){var i=C.escape.value(e),r=F.length>0,o=(C.has.value(e),C.get.values()),a=void 0!==e?String(e):e;if(r){if(!x.allowReselection&&a==o&&(C.verbose("Skipping value update already same value",e,o),!C.is.initialLoad()))return;C.is.single()&&C.has.selectInput()&&C.can.extendSelect()&&(C.debug("Adding user option",e),C.add.optionValue(e)),C.debug("Updating input value",i,o),W=!0,F.val(i),!1===x.fireOnInit&&C.is.initialLoad()?C.debug("Input native change event ignored on initial load"):C.trigger.change(),W=!1}else C.verbose("Storing value in metadata",i,F),i!==o&&R.data(O.value,a);!1===x.fireOnInit&&C.is.initialLoad()?C.verbose("No callback on initial load",x.onChange):x.onChange.call(J,e,t,n)},active:function(){R.addClass(S.active)},multiple:function(){R.addClass(S.multiple)},visible:function(){R.addClass(S.visible)},exactly:function(e,t){C.debug("Setting selected to exact values"),C.clear(),C.set.selected(e,t)},selected:function(t,n){var i=C.is.multiple();(n=x.allowAdditions?n||C.get.itemWithAdditions(t):n||C.get.item(t))&&(C.debug("Setting selected menu item to",n),C.is.multiple()&&C.remove.searchWidth(),C.is.single()?(C.remove.activeItem(),C.remove.selectedItem()):x.useLabels&&C.remove.selectedItem(),n.each(function(){var t=e(this),r=C.get.choiceText(t),o=C.get.choiceValue(t,r),a=t.hasClass(S.filtered),s=t.hasClass(S.active),l=t.hasClass(S.addition),u=i&&1==n.length;i?!s||l?(x.apiSettings&&x.saveRemoteData&&C.save.remoteData(r,o),x.useLabels?(C.add.value(o,r,t),C.add.label(o,r,u),C.set.activeItem(t),C.filterActive(),C.select.nextAvailable(n)):(C.add.value(o,r,t),C.set.text(C.add.variables(L.count)),C.set.activeItem(t))):a||(C.debug("Selected active value, removing label"),C.remove.selected(o)):(x.apiSettings&&x.saveRemoteData&&C.save.remoteData(r,o),C.set.text(r),C.set.value(o,r,t),t.addClass(S.active).addClass(S.selected))}))}},add:{label:function(t,n,i){var r,o=C.is.searchSelection()?q:N,a=C.escape.value(t);if(r=e("<a />").addClass(S.label).attr("data-"+O.value,a).html(I.label(a,n)),r=x.onLabelCreate.call(r,a,n),C.has.label(t))return void C.debug("Label already exists, skipping",a);x.label.variation&&r.addClass(x.label.variation),!0===i?(C.debug("Animating in label",r),r.addClass(S.hidden).insertBefore(o).transition(x.label.transition,x.label.duration)):(C.debug("Adding selection label",r),r.insertBefore(o))},message:function(t){var n=V.children(P.message),i=x.templates.message(C.add.variables(t));n.length>0?n.html(i):n=e("<div/>").html(i).addClass(S.message).appendTo(V)},optionValue:function(t){var n=C.escape.value(t);F.find('option[value="'+C.escape.string(n)+'"]').length>0||(C.disconnect.selectObserver(),C.is.single()&&(C.verbose("Removing previous user addition"),F.find("option."+S.addition).remove()),e("<option/>").prop("value",n).addClass(S.addition).html(t).appendTo(F),C.verbose("Adding user addition as an <option>",t),C.observe.select())},userSuggestion:function(e){var t,n=V.children(P.addition),i=C.get.item(e),r=i&&i.not(P.addition).length,o=n.length>0;if(!x.useLabels||!C.has.maxSelections()){if(""===e||r)return void n.remove();o?(n.data(O.value,e).data(O.text,e).attr("data-"+O.value,e).attr("data-"+O.text,e).removeClass(S.filtered),x.hideAdditions||(t=x.templates.addition(C.add.variables(L.addResult,e)),n.html(t)),C.verbose("Replacing user suggestion with new value",n)):(n=C.create.userChoice(e),n.prependTo(V),C.verbose("Adding item choice to menu corresponding with user choice addition",n)),x.hideAdditions&&!C.is.allFiltered()||n.addClass(S.selected).siblings().removeClass(S.selected),C.refreshItems()}},variables:function(e,t){var n,i,r=-1!==e.search("{count}"),o=-1!==e.search("{maxCount}"),a=-1!==e.search("{term}");return C.verbose("Adding templated variables to message",e),r&&(n=C.get.selectionCount(),e=e.replace("{count}",n)),o&&(n=C.get.selectionCount(),e=e.replace("{maxCount}",x.maxSelections)),a&&(i=t||C.get.query(),e=e.replace("{term}",i)),e},value:function(t,n,i){var r,o=C.get.values();if(""===t)return void C.debug("Cannot select blank values from multiselect");e.isArray(o)?(r=o.concat([t]),r=C.get.uniqueArray(r)):r=[t],C.has.selectInput()?C.can.extendSelect()&&(C.debug("Adding value to select",t,r,F),C.add.optionValue(t)):(r=r.join(x.delimiter),C.debug("Setting hidden input to delimited value",r,F)),!1===x.fireOnInit&&C.is.initialLoad()?C.verbose("Skipping onadd callback on initial load",x.onAdd):x.onAdd.call(J,t,n,i),C.set.value(r,t,n,i),C.check.maxSelections()}},remove:{active:function(){R.removeClass(S.active)},activeLabel:function(){R.find(P.label).removeClass(S.active)},empty:function(){R.removeClass(S.empty)},loading:function(){R.removeClass(S.loading)},initialLoad:function(){m=!1},upward:function(e){(e||R).removeClass(S.upward)},leftward:function(e){(e||V).removeClass(S.leftward)},visible:function(){R.removeClass(S.visible)},activeItem:function(){G.removeClass(S.active)},filteredItem:function(){x.useLabels&&C.has.maxSelections()||(x.useLabels&&C.is.multiple()?G.not("."+S.active).removeClass(S.filtered):G.removeClass(S.filtered),C.remove.empty())},optionValue:function(e){var t=C.escape.value(e),n=F.find('option[value="'+C.escape.string(t)+'"]');n.length>0&&n.hasClass(S.addition)&&(b&&(b.disconnect(),C.verbose("Temporarily disconnecting mutation observer")),n.remove(),C.verbose("Removing user addition as an <option>",t),b&&b.observe(F[0],{childList:!0,subtree:!0}))},message:function(){V.children(P.message).remove()},searchWidth:function(){q.css("width","")},searchTerm:function(){C.verbose("Cleared search term"),q.val(""),C.set.filtered()},userAddition:function(){G.filter(P.addition).remove()},selected:function(t,n){if(!(n=x.allowAdditions?n||C.get.itemWithAdditions(t):n||C.get.item(t)))return!1;n.each(function(){var t=e(this),n=C.get.choiceText(t),i=C.get.choiceValue(t,n);C.is.multiple()?x.useLabels?(C.remove.value(i,n,t),C.remove.label(i)):(C.remove.value(i,n,t),0===C.get.selectionCount()?C.set.placeholderText():C.set.text(C.add.variables(L.count))):C.remove.value(i,n,t),t.removeClass(S.filtered).removeClass(S.active),x.useLabels&&t.removeClass(S.selected)})},selectedItem:function(){G.removeClass(S.selected)},value:function(e,t,n){var i,r=C.get.values();C.has.selectInput()?(C.verbose("Input is <select> removing selected option",e),i=C.remove.arrayValue(e,r),C.remove.optionValue(e)):(C.verbose("Removing from delimited values",e),i=C.remove.arrayValue(e,r),i=i.join(x.delimiter)),!1===x.fireOnInit&&C.is.initialLoad()?C.verbose("No callback on initial load",x.onRemove):x.onRemove.call(J,e,t,n),C.set.value(i,t,n),C.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),C.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=R.find(P.label),i=n.filter("[data-"+O.value+'="'+C.escape.string(e)+'"]');C.verbose("Removing label",i),i.remove()},activeLabels:function(e){e=e||R.find(P.label).filter("."+S.active),C.verbose("Removing active label selections",e),C.remove.labels(e)},labels:function(t){t=t||R.find(P.label),C.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(O.value),i=void 0!==n?String(n):n,r=C.is.userValue(i);if(!1===x.onLabelRemove.call(t,n))return void C.debug("Label remove callback cancelled removal");C.remove.message(),r?(C.remove.value(i),C.remove.label(i)):C.remove.selected(i)})},tabbable:function(){C.is.searchSelection()?(C.debug("Searchable dropdown initialized"),q.removeAttr("tabindex"),V.removeAttr("tabindex")):(C.debug("Simple selection dropdown initialized"),R.removeAttr("tabindex"),V.removeAttr("tabindex"))}},has:{menuSearch:function(){return C.has.search()&&q.closest(V).length>0},search:function(){return q.length>0},sizer:function(){return z.length>0},selectInput:function(){return F.is("select")},minCharacters:function(e){return!x.minCharacters||(e=void 0!==e?String(e):String(C.get.query()),e.length>=x.minCharacters)},firstLetter:function(e,t){var n,i;return!(!e||0===e.length||"string"!=typeof t)&&(n=C.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i)},input:function(){return F.length>0},items:function(){return G.length>0},menu:function(){return V.length>0},message:function(){return 0!==V.children(P.message).length},label:function(e){var t=C.escape.value(e);return R.find(P.label).filter("[data-"+O.value+'="'+C.escape.string(t)+'"]').length>0},maxSelections:function(){return x.maxSelections&&C.get.selectionCount()>=x.maxSelections},allResultsFiltered:function(){var e=G.not(P.addition);return e.filter(P.unselectable).length===e.length},userSuggestion:function(){return V.children(P.addition).length>0},query:function(){return""!==C.get.query()},value:function(t){var n=C.get.values();return!!(e.isArray(n)?n&&-1!==e.inArray(t,n):n==t)}},is:{active:function(){return R.hasClass(S.active)},bubbledLabelClick:function(t){return e(t.target).is("select, input")&&R.closest("label").length>0},bubbledIconClick:function(t){return e(t.target).closest(B).length>0},alreadySetup:function(){return R.is("select")&&void 0!==R.parent(P.dropdown).data(D)&&0===R.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):V.transition&&V.transition("is animating")},leftward:function(e){return(e||V).hasClass(S.leftward)},disabled:function(){return R.hasClass(S.disabled)},focused:function(){return n.activeElement===R[0]},focusedOnSearch:function(){return n.activeElement===q[0]},allFiltered:function(){return(C.is.multiple()||C.has.search())&&!(0==x.hideAdditions&&C.has.userSuggestion())&&!C.has.message()&&C.has.allResultsFiltered()},hidden:function(e){return!C.is.visible(e)},initialLoad:function(){return m},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){if(n==t)return i=!0,!0}),i},multiple:function(){return R.hasClass(S.multiple)},remote:function(){return x.apiSettings&&C.can.useAPI()},single:function(){return!C.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){if(i.target&&e(i.target).is("select"))return n=!0,!0}),n},search:function(){return R.hasClass(S.search)},searchSelection:function(){return C.has.search()&&1===q.parent(P.dropdown).length},selection:function(){return R.hasClass(S.selection)},userValue:function(t){return-1!==e.inArray(t,C.get.userValues())},upward:function(e){return(e||R).hasClass(S.upward)},visible:function(e){return e?e.hasClass(S.visible):V.hasClass(S.visible)},verticallyScrollableContext:function(){var e=j.get(0)!==t&&j.css("overflow-y");return"auto"==e||"scroll"==e},horizontallyScrollableContext:function(){var e=j.get(0)!==t&&j.css("overflow-X");return"auto"==e||"scroll"==e}},can:{activate:function(e){return!!x.useLabels||(!C.has.maxSelections()||!(!C.has.maxSelections()||!e.hasClass(S.active)))},openDownward:function(e){var t,n=e||V,i=!0,r={};return n.addClass(S.loading),t={context:{scrollTop:j.scrollTop(),height:j.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},C.is.verticallyScrollableContext()&&(t.menu.offset.top+=t.context.scrollTop),r={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},r.below?(C.verbose("Dropdown can fit in context downward",r),i=!0):r.below||r.above?(C.verbose("Dropdown cannot fit below, opening upward",r),i=!1):(C.verbose("Dropdown cannot fit in either direction, favoring downward",r),i=!0),n.removeClass(S.loading),i},openRightward:function(e){var t,n=e||V,i=!0,r=!1;return n.addClass(S.loading),t={context:{scrollLeft:j.scrollLeft(),width:j.outerWidth()},menu:{offset:n.offset(),width:n.outerWidth()}},C.is.horizontallyScrollableContext()&&(t.menu.offset.left+=t.context.scrollLeft),r=t.menu.offset.left+t.menu.width>=t.context.scrollLeft+t.context.width,r&&(C.verbose("Dropdown cannot fit in context rightward",r),i=!1),n.removeClass(S.loading),i},click:function(){return l||"click"==x.on},extendSelect:function(){return x.allowAdditions||x.apiSettings},show:function(){return!C.is.disabled()&&(C.has.items()||C.has.message())},useAPI:function(){return void 0!==e.fn.api}},animate:{show:function(t,n){var i,r=n||V,o=n?function(){}:function(){C.hideSubMenus(),C.hideOthers(),C.set.active()};t=e.isFunction(t)?t:function(){},C.verbose("Doing menu show animation",r),C.set.direction(n),i=C.get.transition(n),C.is.selection()&&C.set.scrollPosition(C.get.selectedItem(),!0),(C.is.hidden(r)||C.is.animating(r))&&("none"==i?(o(),r.transition("show"),t.call(J)):void 0!==e.fn.transition&&R.transition("is supported")?r.transition({animation:i+" in",debug:x.debug,verbose:x.verbose,duration:x.duration,queue:!0,onStart:o,onComplete:function(){t.call(J)}}):C.error(E.noTransition,i))},hide:function(t,n){var i=n||V,r=(n?x.duration:x.duration,n?function(){}:function(){C.can.click()&&C.unbind.intent(),C.remove.active()}),o=C.get.transition(n);t=e.isFunction(t)?t:function(){},(C.is.visible(i)||C.is.animating(i))&&(C.verbose("Doing menu hide animation",i),"none"==o?(r(),i.transition("hide"),t.call(J)):void 0!==e.fn.transition&&R.transition("is supported")?i.transition({animation:o+" out",duration:x.duration,debug:x.debug,verbose:x.verbose,queue:!0,onStart:r,onComplete:function(){t.call(J)}}):C.error(E.transition))}},hideAndClear:function(){C.remove.searchTerm(),C.has.maxSelections()||(C.has.search()?C.hide(function(){C.remove.filteredItem()}):C.hide())},delay:{show:function(){C.verbose("Delaying show event to ensure user intent"),clearTimeout(C.timer),C.timer=setTimeout(C.show,x.delay.show)},hide:function(){C.verbose("Delaying hide event to ensure user intent"),clearTimeout(C.timer),C.timer=setTimeout(C.hide,x.delay.hide)}},escape:{value:function(t){var n=e.isArray(t),i="string"==typeof t,r=!i&&!n,o=i&&-1!==t.search(M.quote),a=[];return r||!o?t:(C.debug("Encoding quote values for use in select",t),n?(e.each(t,function(e,t){a.push(t.replace(M.quote,"&quot;"))}),a):t.replace(M.quote,"&quot;"))},string:function(e){return e=String(e),e.replace(M.escape,"\\$&")}},setting:function(t,n){if(C.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,x,t);else{if(void 0===n)return x[t];e.isPlainObject(x[t])?e.extend(!0,x[t],n):x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(void 0===n)return C[t];C[t]=n}},debug:function(){!x.silent&&x.debug&&(x.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,x.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),C.verbose.apply(console,arguments)))},error:function(){x.silent||(C.error=Function.prototype.bind.call(console.error,console,x.name+":"),C.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:J,"Execution Time":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=x.name+":",n=0;u=!1,clearTimeout(C.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,i){var o,a,s,l=K;return n=n||p,i=J||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(a=l[i],!1):(C.error(E.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(r)?r.push(s):void 0!==r?r=[r,s]:void 0!==s&&(r=s),a}},f?(void 0===K&&C.initialize(),C.invoke(d)):(void 0!==K&&K.invoke("destroy"),C.initialize())}),void 0!==r?r:o},e.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",values:!1,apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",leftward:"left",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values,"");return i+='<i class="dropdown icon"></i>',t.placeholder?i+='<div class="default text">'+n+"</div>":i+='<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"},menu:function(t,n){var i=t[n.values]||{},r="";return e.each(i,function(e,t){var i=t[n.text]?'data-text="'+t[n.text]+'"':"",o=t[n.disabled]?"disabled ":"";r+='<div class="'+o+'item" data-value="'+t[n.value]+'"'+i+">",r+=t[n.name],r+="</div>"}),r},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document)},function(e,t,n){"use strict";!function(e,t,n,i){var t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();e.api=e.fn.api=function(n){var i,r=e(e.isFunction(this)?t:this),o=r.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1);return r.each(function(){var r,d,f,p,h,m=e.isPlainObject(n)?e.extend(!0,{},e.fn.api.settings,n):e.extend({},e.fn.api.settings),v=m.namespace,g=m.metadata,_=m.selector,y=m.error,b=m.className,w="."+v,C="module-"+v,x=e(this),S=x.closest(_.form),L=m.stateContext?e(m.stateContext):x,k=this,A=L[0],O=x.data(C);h={initialize:function(){u||h.bind.events(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),O=h,x.data(C,O)},destroy:function(){h.verbose("Destroying previous module for",k),x.removeData(C).off(w)},bind:{events:function(){var e=h.get.event();e?(h.verbose("Attaching API events to element",e),x.on(e+w,h.event.trigger)):"now"==m.on&&(h.debug("Querying API endpoint immediately"),h.query())}},decode:{json:function(e){if(void 0!==e&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}},read:{cachedResponse:function(e){var n;return void 0===t.Storage?void h.error(y.noStorage):(n=sessionStorage.getItem(e),h.debug("Using cached response",e,n),n=h.decode.json(n))}},write:{cachedResponse:function(n,i){return i&&""===i?void h.debug("Response empty, not caching",i):void 0===t.Storage?void h.error(y.noStorage):(e.isPlainObject(i)&&(i=JSON.stringify(i)),sessionStorage.setItem(n,i),void h.verbose("Storing cached response for url",n,i))}},query:function(){if(h.is.disabled())return void h.debug("Element is disabled API request aborted");if(h.is.loading()){if(!m.interruptRequests)return void h.debug("Cancelling request, previous request is still pending");h.debug("Interrupting previous request"),h.abort()}if(m.defaultData&&e.extend(!0,m.urlData,h.get.defaultData()),m.serializeForm&&(m.data=h.add.formData(m.data)),!1===(d=h.get.settings()))return h.cancelled=!0,void h.error(y.beforeSend);if(h.cancelled=!1,!(f=h.get.templatedURL())&&!h.is.mocked())return void h.error(y.missingURL);if((f=h.add.urlData(f))||h.is.mocked()){if(d.url=m.base+f,r=e.extend(!0,{},m,{type:m.method||m.type,data:void 0,url:m.base+f,beforeSend:m.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),h.debug("Querying URL",r.url),h.verbose("Using AJAX settings",r),"local"===m.cache&&h.read.cachedResponse(f))return h.debug("Response returned from local cache"),h.request=h.create.request(),void h.request.resolveWith(A,[h.read.cachedResponse(f)]);m.throttle?m.throttleFirstRequest||h.timer?(h.debug("Throttling request",m.throttle),clearTimeout(h.timer),h.timer=setTimeout(function(){h.timer&&delete h.timer,h.debug("Sending throttled request",void 0,r.method),h.send.request()},m.throttle)):(h.debug("Sending request",void 0,r.method),h.send.request(),h.timer=setTimeout(function(){},m.throttle)):(h.debug("Sending request",void 0,r.method),h.send.request())}},should:{removeError:function(){return!0===m.hideError||"auto"===m.hideError&&!h.is.form()}},is:{disabled:function(){return x.filter(_.disabled).length>0},expectingJSON:function(){return"json"===m.dataType||"jsonp"===m.dataType},form:function(){return x.is("form")||L.is("form")},mocked:function(){return m.mockResponse||m.mockResponseAsync||m.response||m.responseAsync},input:function(){return x.is("input")},loading:function(){return!!h.request&&"pending"==h.request.state()},abortedRequest:function(e){return e&&void 0!==e.readyState&&0===e.readyState?(h.verbose("XHR request determined to be aborted"),!0):(h.verbose("XHR request was not aborted"),!1)},validResponse:function(t){return h.is.expectingJSON()&&e.isFunction(m.successTest)?(h.debug("Checking JSON returned success",m.successTest,t),m.successTest(t)?(h.debug("Response passed success test",t),!0):(h.debug("Response failed success test",t),!1)):(h.verbose("Response is not JSON, skipping validation",m.successTest,t),!0)}},was:{cancelled:function(){return h.cancelled||!1},succesful:function(){return h.request&&"resolved"==h.request.state()},failure:function(){return h.request&&"rejected"==h.request.state()},complete:function(){return h.request&&("resolved"==h.request.state()||"rejected"==h.request.state())}},add:{urlData:function(t,n){var i,r;return t&&(i=t.match(m.regExp.required),r=t.match(m.regExp.optional),n=n||m.urlData,i&&(h.debug("Looking for required URL variables",i),e.each(i,function(i,r){var o=-1!==r.indexOf("$")?r.substr(2,r.length-3):r.substr(1,r.length-2),a=e.isPlainObject(n)&&void 0!==n[o]?n[o]:void 0!==x.data(o)?x.data(o):void 0!==L.data(o)?L.data(o):n[o];if(void 0===a)return h.error(y.requiredParameter,o,t),t=!1,!1;h.verbose("Found required variable",o,a),a=m.encodeParameters?h.get.urlEncodedValue(a):a,t=t.replace(r,a)})),r&&(h.debug("Looking for optional URL variables",i),e.each(r,function(i,r){var o=-1!==r.indexOf("$")?r.substr(3,r.length-4):r.substr(2,r.length-3),a=e.isPlainObject(n)&&void 0!==n[o]?n[o]:void 0!==x.data(o)?x.data(o):void 0!==L.data(o)?L.data(o):n[o];void 0!==a?(h.verbose("Optional variable Found",o,a),t=t.replace(r,a)):(h.verbose("Optional variable not found",o),t=-1!==t.indexOf("/"+r)?t.replace("/"+r,""):t.replace(r,""))}))),t},formData:function(t){var n,i=void 0!==e.fn.serializeObject,r=i?S.serializeObject():S.serialize();return t=t||m.data,n=e.isPlainObject(t),n?i?(h.debug("Extending existing data with form data",t,r),t=e.extend(!0,{},t,r)):(h.error(y.missingSerialize),h.debug("Cant extend data. Replacing data with form data",t,r),t=r):(h.debug("Adding form data",r),t=r),t}},send:{request:function(){h.set.loading(),h.request=h.create.request(),h.is.mocked()?h.mockedXHR=h.create.mockedXHR():h.xhr=h.create.xhr(),m.onRequest.call(A,h.request,h.xhr)}},event:{trigger:function(e){h.query(),"submit"!=e.type&&"click"!=e.type||e.preventDefault()},xhr:{always:function(){},done:function(t,n,i){var r=this,o=(new Date).getTime()-p,a=m.loadingDuration-o,s=!!e.isFunction(m.onResponse)&&(h.is.expectingJSON()?m.onResponse.call(r,e.extend(!0,{},t)):m.onResponse.call(r,t));a=a>0?a:0,s&&(h.debug("Modified API response in onResponse callback",m.onResponse,s,t),t=s),a>0&&h.debug("Response completed early delaying state change by",a),setTimeout(function(){h.is.validResponse(t)?h.request.resolveWith(r,[t,i]):h.request.rejectWith(r,[i,"invalid"])},a)},fail:function(e,t,n){var i=this,r=(new Date).getTime()-p,o=m.loadingDuration-r;o=o>0?o:0,o>0&&h.debug("Response completed early delaying state change by",o),setTimeout(function(){h.is.abortedRequest(e)?h.request.rejectWith(i,[e,"aborted",n]):h.request.rejectWith(i,[e,"error",t,n])},o)}},request:{done:function(e,t){h.debug("Successful API Response",e),"local"===m.cache&&f&&(h.write.cachedResponse(f,e),h.debug("Saving server response locally",h.cache)),m.onSuccess.call(A,e,x,t)},complete:function(e,t){var n,i;h.was.succesful()?(i=e,n=t):(n=e,i=h.get.responseFromXHR(n)),h.remove.loading(),m.onComplete.call(A,i,x,n)},fail:function(e,t,n){var i=h.get.responseFromXHR(e),o=h.get.errorFromRequest(i,t,n);if("aborted"==t)return h.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,n),m.onAbort.call(A,t,x,e),!0;"invalid"==t?h.debug("JSON did not pass success test. A server-side error has most likely occurred",i):"error"==t&&void 0!==e&&(h.debug("XHR produced a server error",t,n),200!=e.status&&void 0!==n&&""!==n&&h.error(y.statusMessage+n,r.url),m.onError.call(A,o,x,e)),m.errorDuration&&"aborted"!==t&&(h.debug("Adding error state"),h.set.error(),h.should.removeError()&&setTimeout(h.remove.error,m.errorDuration)),h.debug("API Request failed",o,e),m.onFailure.call(A,i,x,e)}}},create:{request:function(){return e.Deferred().always(h.event.request.complete).done(h.event.request.done).fail(h.event.request.fail)},mockedXHR:function(){var t,n,i,r=m.mockResponse||m.response,o=m.mockResponseAsync||m.responseAsync;return i=e.Deferred().always(h.event.xhr.complete).done(h.event.xhr.done).fail(h.event.xhr.fail),r?(e.isFunction(r)?(h.debug("Using specified synchronous callback",r),n=r.call(A,d)):(h.debug("Using settings specified response",r),n=r),i.resolveWith(A,[n,!1,{responseText:n}])):e.isFunction(o)&&(t=function(e){h.debug("Async callback returned response",e),e?i.resolveWith(A,[e,!1,{responseText:e}]):i.rejectWith(A,[{responseText:e},!1,!1])},h.debug("Using specified async response callback",o),o.call(A,d,t)),i},xhr:function(){var t;return t=e.ajax(r).always(h.event.xhr.always).done(h.event.xhr.done).fail(h.event.xhr.fail),h.verbose("Created server request",t,r),t}},set:{error:function(){h.verbose("Adding error state to element",L),L.addClass(b.error)},loading:function(){h.verbose("Adding loading state to element",L),L.addClass(b.loading),p=(new Date).getTime()}},remove:{error:function(){h.verbose("Removing error state from element",L),L.removeClass(b.error)},loading:function(){h.verbose("Removing loading state from element",L),L.removeClass(b.loading)}},get:{responseFromXHR:function(t){return!!e.isPlainObject(t)&&(h.is.expectingJSON()?h.decode.json(t.responseText):t.responseText)},errorFromRequest:function(t,n,i){return e.isPlainObject(t)&&void 0!==t.error?t.error:void 0!==m.error[n]?m.error[n]:i},request:function(){return h.request||!1},xhr:function(){return h.xhr||!1},settings:function(){var t;return t=m.beforeSend.call(A,m),t&&(void 0!==t.success&&(h.debug("Legacy success callback detected",t),h.error(y.legacyParameters,t.success),t.onSuccess=t.success),void 0!==t.failure&&(h.debug("Legacy failure callback detected",t),h.error(y.legacyParameters,t.failure),t.onFailure=t.failure),void 0!==t.complete&&(h.debug("Legacy complete callback detected",t),h.error(y.legacyParameters,t.complete),t.onComplete=t.complete)),void 0===t&&h.error(y.noReturnedValue),!1===t?t:void 0!==t?e.extend(!0,{},t):e.extend(!0,{},m)},urlEncodedValue:function(e){var n=t.decodeURIComponent(e),i=t.encodeURIComponent(e);return n!==e?(h.debug("URL value is already encoded, avoiding double encoding",e),e):(h.verbose("Encoding value using encodeURIComponent",e,i),i)},defaultData:function(){var t={};return e.isWindow(k)||(h.is.input()?t.value=x.val():h.is.form()||(t.text=x.text())),t},event:function(){return e.isWindow(k)||"now"==m.on?(h.debug("API called without element, no events attached"),!1):"auto"==m.on?x.is("input")?void 0!==k.oninput?"input":void 0!==k.onpropertychange?"propertychange":"keyup":x.is("form")?"submit":"click":m.on},templatedURL:function(e){if(e=e||x.data(g.action)||m.action||!1,f=x.data(g.url)||m.url||!1)return h.debug("Using specified url",f),f;if(e){if(h.debug("Looking up url for action",e,m.api),void 0===m.api[e]&&!h.is.mocked())return void h.error(y.missingAction,m.action,m.api);f=m.api[e]}else h.is.form()&&(f=x.attr("action")||L.attr("action")||!1,h.debug("No url or action specified, defaulting to form action",f));return f}},abort:function(){var e=h.get.xhr();e&&"resolved"!==e.state()&&(h.debug("Cancelling API request"),e.abort())},reset:function(){h.remove.error(),h.remove.loading()},setting:function(t,n){if(h.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(void 0===n)return m[t];e.isPlainObject(m[t])?e.extend(!0,m[t],n):m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===n)return h[t];h[t]=n}},debug:function(){!m.silent&&m.debug&&(m.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,m.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),h.verbose.apply(console,arguments)))},error:function(){m.silent||(h.error=Function.prototype.bind.call(console.error,console,m.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=m.name+":",n=0;a=!1,clearTimeout(h.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,r){var o,a,s,l=O;return n=n||c,r=k||r,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(a=l[i],!1):(h.error(y.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(r,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),a}},u?(void 0===O&&h.initialize(),h.invoke(l)):(void 0!==O&&O.invoke("destroy"),h.initialize())}),void 0!==i?i:this},e.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document)},function(e,t,n){"use strict";!function(e,t,n){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this.options.clusterPane||(this.options.clusterPane=L.Marker.prototype.options.pane),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,n=this._zoom;if(e.__parent)for(;t.__parent._zoom>=n;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var n,i=this._featureGroup,r=this._nonPointGroup,o=this.options.chunkedLoading,a=this.options.chunkInterval,s=this.options.chunkProgress,l=e.length,u=0,c=!0;if(this._map){var d=(new Date).getTime(),f=L.bind(function(){for(var p=(new Date).getTime();l>u;u++){if(o&&0==u%200){if((new Date).getTime()-p>a)break}if((n=e[u])instanceof L.LayerGroup)c&&(e=e.slice(),c=!1),this._extractNonGroupLayers(n,e),l=e.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),t||this.fire("layeradd",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var h=n.__parent.getAllChildMarkers(),m=h[0]===n?h[1]:h[0];i.removeLayer(m)}}else r.addLayer(n),t||this.fire("layeradd",{layer:n})}s&&s(u,l,(new Date).getTime()-d),u===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(f,this.options.chunkDelay)},this);f()}else for(var p=this._needsClustering;l>u;u++)n=e[u],n instanceof L.LayerGroup?(c&&(e=e.slice(),c=!1),this._extractNonGroupLayers(n,e),l=e.length):n.getLatLng?this.hasLayer(n)||p.push(n):r.addLayer(n);return this},removeLayers:function(e){var t,n,i=e.length,r=this._featureGroup,o=this._nonPointGroup,a=!0;if(!this._map){for(t=0;i>t;t++)n=e[t],n instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),i=e.length):(this._arraySplice(this._needsClustering,n),o.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var s=e.slice(),l=i;for(t=0;l>t;t++)n=s[t],n instanceof L.LayerGroup?(this._extractNonGroupLayers(n,s),l=s.length):this._unspiderfyLayer(n)}for(t=0;i>t;t++)n=e[t],n instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),i=e.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),r.hasLayer(n)&&(r.removeLayer(n),n.clusterShow&&n.clusterShow())):(o.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;t>=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var n,i,r,o=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),i=o.length-1;i>=0;i--){for(n=!0,r=a.length-1;r>=0;r--)if(a[r].layer===o[i]){n=!1;break}n&&e.call(t,o[i])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer(function(n){L.stamp(n)===e&&(t=n)}),t},hasLayer:function(e){if(!e)return!1;var t,n=this._needsClustering;for(t=n.length-1;t>=0;t--)if(n[t]===e)return!0;for(n=this._needsRemoving,t=n.length-1;t>=0;t--)if(n[t].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){"function"!=typeof t&&(t=function(){});var n=function n(){!e._icon&&!e.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),e._icon?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),e.__parent.zoomToBounds())},onAdd:function(e){this._map=e;var t,n,i;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,n=this._needsRemoving.length;n>t;t++)i=this._needsRemoving[t],i.newlatlng=i.layer._latlng,i.layer._latlng=i.latlng;for(t=0,n=this._needsRemoving.length;n>t;t++)i=this._needsRemoving[t],this._removeLayer(i.layer,!0),i.layer._latlng=i.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return e.splice(n,1),!0},_removeFromGridUnclustered:function(e,t){for(var n=this._map,i=this._gridUnclustered,r=Math.floor(this._map.getMinZoom());t>=r&&i[t].removeObject(e,n.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var t=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&&e.target.openPopup()}},_moveChild:function(e,t,n){e._latlng=t,this.removeLayer(e),e._latlng=n,this.addLayer(e)},_childMarkerDragEnd:function(e){e.target.__dragStart&&this._moveChild(e.target,e.target.__dragStart,e.target._latlng),delete e.target.__dragStart},_removeLayer:function(e,t,n){var i=this._gridClusters,r=this._gridUnclustered,o=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());t&&this._removeFromGridUnclustered(e,this._maxZoom);var l,u=e.__parent,c=u._markers;for(this._arraySplice(c,e);u&&(u._childCount--,u._boundsNeedUpdate=!0,!(u._zoom<s));)t&&u._childCount<=1?(l=u._markers[0]===e?u._markers[1]:u._markers[0],i[u._zoom].removeObject(u,a.project(u._cLatLng,u._zoom)),r[u._zoom].addObject(l,a.project(l.getLatLng(),u._zoom)),this._arraySplice(u.__parent._childClusters,u),u.__parent._markers.push(l),l.__parent=u.__parent,u._icon&&(o.removeLayer(u),n||o.addLayer(l))):u._iconNeedsUpdate=!0,u=u.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,n){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,n)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),n=" marker-cluster-";return n+=10>t?"small":100>t?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick;(t||i)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){for(var t=e.layer,n=t;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===t._childCount&&this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,i=this._map;(e||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),i.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),t=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,i=n;"function"!=typeof n&&(i=function(){return n}),null!==this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var r=e;r>=t;r--)this._gridClusters[r]=new L.DistanceGrid(i(r)),this._gridUnclustered[r]=new L.DistanceGrid(i(r));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var n,i,r=this._gridClusters,o=this._gridUnclustered,a=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);t>=a;t--){n=this._map.project(e.getLatLng(),t);var s=r[t].getNearObject(n);if(s)return s._addChild(e),void(e.__parent=s);if(s=o[t].getNearObject(n)){var l=s.__parent;l&&this._removeLayer(s,!1);var u=new this._markerCluster(this,t,s,e);r[t].addObject(u,this._map.project(u._cLatLng,t)),s.__parent=u,e.__parent=u;var c=u;for(i=t-1;i>l._zoom;i--)c=new this._markerCluster(this,i,c),r[i].addObject(c,this._map.project(s.getLatLng(),i));return l._addChild(c),void this._removeFromGridUnclustered(s,t)}o[t].addObject(e,n)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()})},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return t!==n&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var n=t.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var n,i=e.getLayers(),r=0;for(t=t||[];r<i.length;r++)n=i[r],n instanceof L.LayerGroup?this._extractNonGroupLayers(n,t):t.push(n);return t},_overrideMarkerIcon:function(e){return e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}})}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var n,i=this._getExpandedVisibleBounds(),r=this._featureGroup,o=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(i,e,o,function(o){var a,s=o._latlng,l=o._markers;for(i.contains(s)||(s=null),o._isSingleParent()&&e+1===t?(r.removeLayer(o),o._recursivelyAddChildrenToMap(null,t,i)):(o.clusterHide(),o._recursivelyAddChildrenToMap(s,t,i)),n=l.length-1;n>=0;n--)a=l[n],i.contains(a._latlng)||r.removeLayer(a)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,t),r.eachLayer(function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()}),this._topClusterLevel._recursively(i,e,t,function(e){e._recursivelyRestoreChildPositions(t)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(i,e,o,function(e){r.removeLayer(e),e.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var n=this,i=this._featureGroup;i.addLayer(e),t!==e&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue(function(){i.removeLayer(e),e.clusterShow(),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,n){var i=this._getExpandedVisibleBounds(),r=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(i,r,t+1,n);var o=this;this._forceLayout(),e._recursivelyBecomeVisible(i,n),this._enqueue(function(){if(1===e._childCount){var a=e._markers[0];this._ignoreMove=!0,a.setLatLng(a.getLatLng()),this._ignoreMove=!1,a.clusterShow&&a.clusterShow()}else e._recursively(i,n,r,function(e){e._recursivelyRemoveChildrenFromMap(i,r,t+1)});o._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(t.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)},L.MarkerCluster=L.Marker.extend({initialize:function(e,t,n,i){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),i&&this._addChild(i)},getAllChildMarkers:function(e){e=e||[];for(var t=this._childClusters.length-1;t>=0;t--)this._childClusters[t].getAllChildMarkers(e);for(var n=this._markers.length-1;n>=0;n--)e.push(this._markers[n]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){for(var t,n=this._childClusters.slice(),i=this._group._map,r=i.getBoundsZoom(this._bounds),o=this._zoom+1,a=i.getZoom();n.length>0&&r>o;){o++;var s=[];for(t=0;t<n.length;t++)s=s.concat(n[t]._childClusters);n=s}r>o?this._group._map.setView(this._latlng,o):a>=r?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e,t,n,i,r=this._markers,o=this._childClusters,a=0,s=0,l=this._childCount;if(0!==l){for(this._resetBounds(),e=0;e<r.length;e++)n=r[e]._latlng,this._bounds.extend(n),a+=n.lat,s+=n.lng;for(e=0;e<o.length;e++)t=o[e],t._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),n=t._wLatLng,i=t._childCount,a+=n.lat*i,s+=n.lng*i;this._latlng=this._wLatLng=new L.LatLng(a/l,s/l),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,n){this._recursively(e,this._group._map.getMinZoom(),n-1,function(e){var n,i,r=e._markers;for(n=r.length-1;n>=0;n--)i=r[n],i._icon&&(i._setPos(t),i.clusterHide())},function(e){var n,i,r=e._childClusters;for(n=r.length-1;n>=0;n--)i=r[n],i._icon&&(i._setPos(t),i.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,n,i){this._recursively(e,i,t,function(r){r._recursivelyAnimateChildrenIn(e,r._group._map.latLngToLayerPoint(r.getLatLng()).round(),n),r._isSingleParent()&&n-1===i?(r.clusterShow(),r._recursivelyRemoveChildrenFromMap(e,t,n)):r.clusterHide(),r._addToMap()})},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,function(e){e.clusterShow()})},_recursivelyAddChildrenToMap:function(e,t,n){this._recursively(n,this._group._map.getMinZoom()-1,t,function(i){if(t!==i._zoom)for(var r=i._markers.length-1;r>=0;r--){var o=i._markers[r];n.contains(o._latlng)&&(e&&(o._backupLatlng=o.getLatLng(),o.setLatLng(e),o.clusterHide&&o.clusterHide()),i._group._featureGroup.addLayer(o))}},function(t){t._addToMap(e)})},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;t>=0;t--){var n=this._markers[t];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(e-1===this._zoom)for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._restorePosition();else for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,n,i){var r,o;this._recursively(e,t-1,n-1,function(e){for(o=e._markers.length-1;o>=0;o--)r=e._markers[o],i&&i.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())},function(e){for(o=e._childClusters.length-1;o>=0;o--)r=e._childClusters[o],i&&i.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())})},_recursively:function(e,t,n,i,r){var o,a,s=this._childClusters,l=this._zoom;if(l>=t&&(i&&i(this),r&&l===n&&r(this)),t>l||n>l)for(o=s.length-1;o>=0;o--)a=s[o],e.intersects(a._bounds)&&a._recursively(e,t,n,i,r)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var e=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,e}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var n=this._getCoord(t.x),i=this._getCoord(t.y),r=this._grid,o=r[i]=r[i]||{},a=o[n]=o[n]||[],s=L.Util.stamp(e);this._objectPoint[s]=t,a.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var n,i,r=this._getCoord(t.x),o=this._getCoord(t.y),a=this._grid,s=a[o]=a[o]||{},l=s[r]=s[r]||[];for(delete this._objectPoint[L.Util.stamp(e)],n=0,i=l.length;i>n;n++)if(l[n]===e)return l.splice(n,1),1===i&&delete s[r],!0},eachObject:function(e,t){var n,i,r,o,a,s,l=this._grid;for(n in l){a=l[n];for(i in a)for(s=a[i],r=0,o=s.length;o>r;r++)e.call(t,s[r])&&(r--,o--)}},getNearObject:function(e){var t,n,i,r,o,a,s,l,u=this._getCoord(e.x),c=this._getCoord(e.y),d=this._objectPoint,f=this._sqCellSize,p=null;for(t=c-1;c+1>=t;t++)if(r=this._grid[t])for(n=u-1;u+1>=n;n++)if(o=r[n])for(i=0,a=o.length;a>i;i++)s=o[i],l=this._sqDist(d[L.Util.stamp(s)],e),f>l&&(f=l,p=s);return p},_getCoord:function(e){return Math.floor(e/this._cellSize)},_sqDist:function(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}},function(){L.QuickHull={getDistant:function(e,t){var n=t[1].lat-t[0].lat;return(t[0].lng-t[1].lng)*(e.lat-t[0].lat)+n*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var n,i,r,o=0,a=null,s=[];for(n=t.length-1;n>=0;n--)i=t[n],(r=this.getDistant(i,e))>0&&(s.push(i),r>o&&(o=r,a=i));return{maxPoint:a,newPoints:s}},buildConvexHull:function(e,t){var n=[],i=this.findMostDistantPointFromBaseLine(e,t);return i.maxPoint?(n=n.concat(this.buildConvexHull([e[0],i.maxPoint],i.newPoints)),n=n.concat(this.buildConvexHull([i.maxPoint,e[1]],i.newPoints))):[e[0]]},getConvexHull:function(e){var t,n=!1,i=!1,r=!1,o=!1,a=null,s=null,l=null,u=null,c=null,d=null;for(t=e.length-1;t>=0;t--){var f=e[t];(!1===n||f.lat>n)&&(a=f,n=f.lat),(!1===i||f.lat<i)&&(s=f,i=f.lat),(!1===r||f.lng>r)&&(l=f,r=f.lng),(!1===o||f.lng<o)&&(u=f,o=f.lng)}return i!==n?(d=s,c=a):(d=u,c=l),[].concat(this.buildConvexHull([d,c],e),this.buildConvexHull([c,d],e))}}}(),L.MarkerCluster.include({getConvexHull:function(){var e,t,n=this.getAllChildMarkers(),i=[];for(t=n.length-1;t>=0;t--)e=n[t].getLatLng(),i.push(e);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(),n=this._group,i=n._map,r=i.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,r):(r.y+=10,e=this._generatePointsCircle(t.length,r)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var n,i,r=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e),o=r/this._2PI,a=this._2PI/e,s=[];for(s.length=e,n=e-1;n>=0;n--)i=this._circleStartAngle+n*a,s[n]=new L.Point(t.x+o*Math.cos(i),t.y+o*Math.sin(i))._round();return s},_generatePointsSpiral:function(e,t){var n,i=this._group.options.spiderfyDistanceMultiplier,r=i*this._spiralLengthStart,o=i*this._spiralFootSeparation,a=i*this._spiralLengthFactor*this._2PI,s=0,l=[];for(l.length=e,n=e-1;n>=0;n--)s+=o/r+5e-4*n,l[n]=new L.Point(t.x+r*Math.cos(s),t.y+r*Math.sin(s))._round(),r+=a/s;return l},_noanimationUnspiderfy:function(){var e,t,n=this._group,i=n._map,r=n._featureGroup,o=this.getAllChildMarkers();for(n._ignoreMove=!0,this.setOpacity(1),t=o.length-1;t>=0;t--)e=o[t],r.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(i.removeLayer(e._spiderLeg),delete e._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:o}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var n,i,r,o,a=this._group,s=a._map,l=a._featureGroup,u=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,n=0;n<e.length;n++)o=s.layerPointToLatLng(t[n]),i=e[n],r=new L.Polyline([this._latlng,o],u),s.addLayer(r),i._spiderLeg=r,i._preSpiderfyLatlng=i._latlng,i.setLatLng(o),i.setZIndexOffset&&i.setZIndexOffset(1e6),l.addLayer(i);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var i,r,o,a,s,l,u=this,c=this._group,d=c._map,f=c._featureGroup,p=this._latlng,h=d.latLngToLayerPoint(p),m=L.Path.SVG,v=L.extend({},this._group.options.spiderLegPolylineOptions),g=v.opacity;for(g===n&&(g=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(v.opacity=0,v.className=(v.className||"")+" leaflet-cluster-spider-leg"):v.opacity=g,c._ignoreMove=!0,i=0;i<e.length;i++)r=e[i],l=d.layerPointToLatLng(t[i]),o=new L.Polyline([p,l],v),d.addLayer(o),r._spiderLeg=o,m&&(a=o._path,s=a.getTotalLength()+.1,a.style.strokeDasharray=s,a.style.strokeDashoffset=s),r.setZIndexOffset&&r.setZIndexOffset(1e6),r.clusterHide&&r.clusterHide(),f.addLayer(r),r._setPos&&r._setPos(h);for(c._forceLayout(),c._animationStart(),i=e.length-1;i>=0;i--)l=d.layerPointToLatLng(t[i]),r=e[i],r._preSpiderfyLatlng=r._latlng,r.setLatLng(l),r.clusterShow&&r.clusterShow(),m&&(o=r._spiderLeg,a=o._path,a.style.strokeDashoffset=0,o.setStyle({opacity:g}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout(function(){c._animationEnd(),c.fire("spiderfied",{cluster:u,markers:e})},200)},_animationUnspiderfy:function(e){var t,n,i,r,o,a,s=this,l=this._group,u=l._map,c=l._featureGroup,d=e?u._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):u.latLngToLayerPoint(this._latlng),f=this.getAllChildMarkers(),p=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),n=f.length-1;n>=0;n--)t=f[n],t._preSpiderfyLatlng&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,a=!0,t._setPos&&(t._setPos(d),a=!1),t.clusterHide&&(t.clusterHide(),a=!1),a&&c.removeLayer(t),p&&(i=t._spiderLeg,r=i._path,o=r.getTotalLength()+.1,r.style.strokeDashoffset=o,i.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout(function(){var e=0;for(n=f.length-1;n>=0;n--)t=f[n],t._spiderLeg&&e++;for(n=f.length-1;n>=0;n--)t=f[n],t._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),e>1&&c.removeLayer(t),u.removeLayer(t._spiderLeg),delete t._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:s,markers:f})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,n;for(t in e)for(n=e[t].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,n;for(t in e)n=e[t],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(e,t){var n=this.options.icon;return L.setOptions(n,e),this.setIcon(n),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){e.exports=n.p+"data/bafu_umwelt_fgrps_db.csv"},function(e,t,n){e.exports=n.p+"data/language.de.json"},function(e,t,n){e.exports=n.p+"data/language.fr.json"},function(e,t,n){e.exports=n.p+"data/language.it.json"},function(e,t,n){e.exports=n.p+"data/language.en.json"}]);